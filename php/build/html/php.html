
<!DOCTYPE html>

<html lang="fr">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>PHP &#8212; Documentation WEB Dynamique 0.0.1</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css" />
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/translations.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Recherche" href="search.html" />
    <link rel="next" title="PHP - Présentation AJAX" href="ajax.html" />
    <link rel="prev" title="Internationalisation" href="inter.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="php">
<h1>PHP<a class="headerlink" href="#php" title="Lien permanent vers ce titre">¶</a></h1>
<div class="section" id="qu-est-ce-que-php">
<h2>Qu’est-ce que PHP ?<a class="headerlink" href="#qu-est-ce-que-php" title="Lien permanent vers ce titre">¶</a></h2>
<blockquote>
<div><ul class="simple">
<li><p>PHP est l’acronyme de « PHP : Hypertext Preprocessor »</p></li>
<li><p>PHP est un langage de script open source largement utilisé</p></li>
<li><p>Les scripts PHP sont exécutés sur le serveur</p></li>
<li><p>PHP est gratuit à télécharger et à utiliser</p></li>
</ul>
</div></blockquote>
</div>
<div class="section" id="qu-est-ce-qu-un-fichier-php">
<h2>Qu’est-ce qu’un fichier PHP ?<a class="headerlink" href="#qu-est-ce-qu-un-fichier-php" title="Lien permanent vers ce titre">¶</a></h2>
<p>Les fichiers PHP peuvent contenir du texte, du HTML, du CSS, du JavaScript et du code PHP. Le code PHP est exécuté sur le serveur et le résultat est renvoyé au navigateur en tant que code HTML brut. Les fichiers PHP ont l’extension <cite>.php</cite></p>
</div>
<div class="section" id="que-peut-faire-php">
<h2>Que peut faire PHP ?<a class="headerlink" href="#que-peut-faire-php" title="Lien permanent vers ce titre">¶</a></h2>
<blockquote>
<div><ul class="simple">
<li><p>PHP peut générer du contenu de page dynamique</p></li>
<li><p>PHP peut créer, ouvrir, lire, écrire, supprimer et fermer des fichiers sur le serveur</p></li>
<li><p>PHP peut collecter des données de formulaire</p></li>
<li><p>PHP peut envoyer et recevoir des cookies</p></li>
<li><p>PHP peut ajouter, supprimer, modifier des données dans votre base de données</p></li>
<li><p>PHP peut être utilisé pour contrôler l’accès des utilisateurs</p></li>
<li><p>PHP peut crypter les données</p></li>
</ul>
</div></blockquote>
<p>Avec PHP, vous n’êtes pas limité à la sortie HTML. Vous pouvez produire des images, des fichiers PDF et même des films Flash. Vous pouvez également sortir n’importe quel texte, tel que XHTML et XML.</p>
</div>
<div class="section" id="pourquoi-php">
<h2>Pourquoi PHP ?<a class="headerlink" href="#pourquoi-php" title="Lien permanent vers ce titre">¶</a></h2>
<blockquote>
<div><ul class="simple">
<li><p>PHP fonctionne sur diverses plateformes (Windows, Linux, Unix, Mac OS X, etc.)</p></li>
<li><p>PHP est compatible avec presque tous les serveurs utilisés aujourd’hui (Apache, IIS, etc.)</p></li>
<li><p>PHP prend en charge un large éventail de bases de données</p></li>
<li><p>PHP est gratuit. Téléchargez-le à partir de la ressource PHP officielle : www.php.net</p></li>
<li><p>PHP est facile à apprendre et fonctionne efficacement côté serveur</p></li>
</ul>
</div></blockquote>
</div>
<div class="section" id="quoi-de-neuf-en-php-7">
<h2>Quoi de neuf en PHP 7<a class="headerlink" href="#quoi-de-neuf-en-php-7" title="Lien permanent vers ce titre">¶</a></h2>
<blockquote>
<div><ul class="simple">
<li><p>PHP 7 est beaucoup plus rapide que la précédente version stable populaire (PHP 5.6)</p></li>
<li><p>PHP 7 a amélioré la gestion des erreurs</p></li>
<li><p>PHP 7 prend en charge des déclarations de type plus strictes pour les arguments de fonction</p></li>
<li><p>PHP 7 prend en charge de nouveaux opérateurs (comme l’opérateur de vaisseau spatial : &lt;=&gt;)</p></li>
</ul>
</div></blockquote>
</div>
<div class="section" id="installation-de-php">
<h2>Installation de PHP<a class="headerlink" href="#installation-de-php" title="Lien permanent vers ce titre">¶</a></h2>
<div class="section" id="de-quoi-ai-je-besoin">
<h3>De quoi ai-je besoin?<a class="headerlink" href="#de-quoi-ai-je-besoin" title="Lien permanent vers ce titre">¶</a></h3>
<p>Pour commencer à utiliser PHP, vous pouvez :</p>
<blockquote>
<div><ul class="simple">
<li><p>Trouver un hébergeur avec support PHP et MySQL</p></li>
<li><p>Installez un serveur Web sur votre propre PC, puis installez PHP et MySQL</p></li>
</ul>
</div></blockquote>
</div>
<div class="section" id="utiliser-un-hebergeur-avec-support-php">
<h3>Utiliser un hébergeur avec support PHP<a class="headerlink" href="#utiliser-un-hebergeur-avec-support-php" title="Lien permanent vers ce titre">¶</a></h3>
<p>Si votre serveur a activé la prise en charge de PHP, vous n’avez rien à faire. Créez simplement des fichiers .php, placez-les dans votre répertoire Web et le serveur les analysera automatiquement pour vous. Vous n’avez pas besoin de compiler quoi que ce soit ou d’installer des outils supplémentaires. Parce que PHP est gratuit, la plupart des hébergeurs proposent un support PHP.</p>
</div>
<div class="section" id="configurer-php-sur-votre-propre-pc">
<h3>Configurer PHP sur votre propre PC<a class="headerlink" href="#configurer-php-sur-votre-propre-pc" title="Lien permanent vers ce titre">¶</a></h3>
<p>Cependant, si votre serveur ne supporte pas PHP, vous devez :</p>
<blockquote>
<div><ul class="simple">
<li><p>installer un serveur web</p></li>
<li><p>installer PHP</p></li>
<li><p>installer une base de données, telle que MySQL</p></li>
</ul>
</div></blockquote>
<p>Le site Web officiel de PHP (PHP.net) contient des instructions d’installation pour PHP : <a class="reference external" href="http://php.net/manual/en/install.php">http://php.net/manual/en/install.php</a>
Compilateur/éditeur PHP en ligne</p>
</div>
</div>
</div>
<div class="section" id="syntaxe-de-php">
<h1>Syntaxe de PHP<a class="headerlink" href="#syntaxe-de-php" title="Lien permanent vers ce titre">¶</a></h1>
<p>Un script PHP est exécuté sur le serveur et le résultat HTML brut est renvoyé au navigateur.</p>
<div class="section" id="syntaxe-php-de-base">
<h2>Syntaxe PHP de base<a class="headerlink" href="#syntaxe-php-de-base" title="Lien permanent vers ce titre">¶</a></h2>
<p>Un script PHP peut être placé n’importe où dans le document.</p>
<p>Un script PHP commence par <cite>&lt;?php</cite> et se termine par <cite>?&gt;</cite> :</p>
<div class="highlight-php notranslate"><div class="highlight"><pre><span></span><span class="cp">&lt;?php</span>
    <span class="c1">// Le code PHP va ici</span>
<span class="cp">?&gt;</span><span class="x"></span>
</pre></div>
</div>
<p>L’extension de fichier par défaut pour les fichiers PHP est <cite>.php</cite>.</p>
<p>Un fichier PHP contient normalement des balises HTML et du code de script PHP. Ci-dessous, nous avons un exemple de fichier PHP simple, avec un script PHP qui utilise une fonction PHP intégrée « echo » pour afficher le texte « Hello World! » sur une page Web :</p>
<div class="highlight-php notranslate"><div class="highlight"><pre><span></span><span class="x">&lt;!DOCTYPE html&gt;</span>
<span class="x">     &lt;html&gt;</span>
<span class="x">        &lt;body&gt;</span>
<span class="x">            &lt;h1&gt;Ma première page PHP&lt;/h1&gt;</span>
<span class="x">                </span><span class="cp">&lt;?php</span>
                     <span class="k">echo</span> <span class="s2">&quot;Bonjour tout le monde !&quot;</span><span class="p">;</span>
               <span class="cp">?&gt;</span><span class="x"></span>

<span class="x">       &lt;/body&gt;</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>les instructions PHP se terminent par un point-virgule (;).</p>
</div>
<div class="section" id="sensibilite-a-la-casse-php">
<h3>Sensibilité à la casse PHP<a class="headerlink" href="#sensibilite-a-la-casse-php" title="Lien permanent vers ce titre">¶</a></h3>
<p>En PHP, les mots-clés (par exemple, if, else, while, echo, etc.), les classes, les fonctions et les fonctions définies par l’utilisateur ne sont pas sensibles à la casse.</p>
<p>Dans l’exemple ci-dessous, les trois instructions echo ci-dessous sont égales et légales :</p>
<div class="highlight-php notranslate"><div class="highlight"><pre><span></span><span class="x">&lt;!DOCTYPE html&gt;</span>
<span class="x">    &lt;html&gt;</span>
<span class="x">       &lt;body&gt;</span>

<span class="x">          </span><span class="cp">&lt;?php</span>
               <span class="k">ECHO</span> <span class="s2">&quot;Bonjour tout le monde !&lt;br&gt;&quot;</span> <span class="p">;</span>
               <span class="k">echo</span> <span class="s2">&quot;Bonjour tout le monde !&lt;br&gt;&quot;</span> <span class="p">;</span>
               <span class="k">EcHo</span> <span class="s2">&quot;Bonjour tout le monde !&lt;br&gt;&quot;</span> <span class="p">;</span>
         <span class="cp">?&gt;</span><span class="x"></span>
<span class="x">     &lt;/body&gt;</span>
<span class="x">  &lt;/html&gt;</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Cependant ; tous les noms de variables sont sensibles à la casse !</p>
</div>
<p>Regardez l’exemple ci-dessous; seule la première instruction affichera la valeur de la variable $color ! En effet, $color, $COLOR et $coLOR sont traités comme trois variables différentes :</p>
<div class="highlight-php notranslate"><div class="highlight"><pre><span></span><span class="x">&lt;!DOCTYPE html&gt;</span>
<span class="x">   &lt;html&gt;</span>
<span class="x">      &lt;body&gt;</span>
<span class="x">          </span><span class="cp">&lt;?php</span>
             <span class="nv">$color</span> <span class="o">=</span> <span class="s2">&quot;rouge&quot;</span> <span class="p">;</span>
             <span class="k">echo</span> <span class="s2">&quot;Ma voiture est&quot;</span><span class="o">.</span> <span class="nv">$color</span><span class="o">.</span> <span class="s2">&quot;&lt;br&gt;&quot;</span> <span class="p">;</span>
             <span class="k">echo</span> <span class="s2">&quot;Ma maison est &quot;</span> <span class="o">.</span> <span class="nv">$COLOR</span><span class="o">.</span> <span class="s2">&quot;&lt;br&gt;&quot;</span> <span class="p">;</span>
             <span class="k">echo</span> <span class="s2">&quot;Mon bateau est &quot;</span> <span class="o">.</span> <span class="nv">$coLOR</span><span class="o">.</span> <span class="s2">&quot;&lt;br&gt;&quot;</span> <span class="p">;</span>
         <span class="cp">?&gt;</span><span class="x"></span>
<span class="x">    &lt;/body&gt;</span>
<span class="x"> &lt;/html&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="exercices-php">
<h3>Exercices PHP<a class="headerlink" href="#exercices-php" title="Lien permanent vers ce titre">¶</a></h3>
<p>Insérez la partie manquante du code ci-dessous pour afficher « Bonjour le Monde ».</p>
<div class="highlight-php notranslate"><div class="highlight"><pre><span></span><span class="x">&quot;Bonjour le monde&quot;;</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="commentaires-en-php">
<h2>Commentaires en PHP<a class="headerlink" href="#commentaires-en-php" title="Lien permanent vers ce titre">¶</a></h2>
<p>Un commentaire dans le code PHP est une ligne qui n’est pas exécutée dans le cadre du programme. Son seul but est d’être lu par quelqu’un qui regarde le code.</p>
<p>Les commentaires peuvent être utilisés pour :</p>
<blockquote>
<div><ul class="simple">
<li><p>Laisser les autres comprendre votre code</p></li>
<li><p>Vous rappeler ce que vous avez fait - La plupart des programmeurs ont eu l’habitude de revenir à leur propre travail un an ou deux plus tard et d’avoir à repenser ce qu’ils ont fait. Les commentaires peuvent vous rappeler ce que vous pensiez lorsque vous avez écrit le code</p></li>
</ul>
</div></blockquote>
<p>PHP prend en charge plusieurs manières de commenter.</p>
<p>Syntaxe pour les commentaires sur une seule ligne :</p>
<div class="highlight-php notranslate"><div class="highlight"><pre><span></span><span class="x"> &lt;!DOCTYPE html&gt;</span>
<span class="x"> &lt;html&gt;</span>
<span class="x">      &lt;body&gt;</span>
<span class="x">         </span><span class="cp">&lt;?php</span>
               <span class="c1">// Ceci est un commentaire sur une seule ligne</span>
               <span class="c1"># Ceci est également un commentaire sur une seule ligne</span>
        <span class="cp">?&gt;</span><span class="x"></span>
<span class="x">     &lt;/body&gt;</span>
<span class="x">&lt;/html&gt;</span>
</pre></div>
</div>
<p>Syntaxe pour les commentaires sur plusieurs lignes :</p>
<div class="highlight-php notranslate"><div class="highlight"><pre><span></span><span class="x"> &lt;!DOCTYPE html&gt;</span>
<span class="x"> &lt;html&gt;</span>
<span class="x">    &lt;body&gt;</span>
<span class="x">      </span><span class="cp">&lt;?php</span>
          <span class="cm">/*</span>
<span class="cm">            Ceci est un bloc de commentaires de plusieurs lignes</span>
<span class="cm">            qui s&#39;étend sur plusieurs</span>
<span class="cm">            lignes</span>
<span class="cm">          */</span>
     <span class="cp">?&gt;</span><span class="x"></span>
<span class="x">  &lt;/body&gt;</span>
<span class="x">&lt;/html&gt;</span>
</pre></div>
</div>
<p>Utiliser des commentaires pour omettre des parties du code :</p>
<div class="highlight-php notranslate"><div class="highlight"><pre><span></span><span class="x">&lt;!DOCTYPE html&gt;</span>
<span class="x">    &lt;html&gt;</span>
<span class="x">   &lt;body&gt;</span>
<span class="x">      </span><span class="cp">&lt;?php</span>
         <span class="c1">// Vous pouvez également utiliser des commentaires pour omettre des parties d&#39;une ligne de code</span>
         <span class="nv">$x</span> <span class="o">=</span> <span class="mi">5</span> <span class="cm">/* + 15 */</span> <span class="o">+</span> <span class="mi">5</span><span class="p">;</span>
         <span class="k">echo</span> <span class="nv">$x</span><span class="p">;</span>
     <span class="cp">?&gt;</span><span class="x"></span>
<span class="x">  &lt;/body&gt;</span>
<span class="x"> &lt;/html&gt;</span>
</pre></div>
</div>
<p>Pour plus d’information visitez <a class="reference external" href="https://fr.wikibooks.org/wiki/Programmation_PHP">https://fr.wikibooks.org/wiki/Programmation_PHP</a></p>
</div>
<div class="section" id="les-formulaires-en-php">
<h2>Les formulaires en PHP<a class="headerlink" href="#les-formulaires-en-php" title="Lien permanent vers ce titre">¶</a></h2>
<p>Les superglobales PHP <cite>$_GET</cite> et <cite>$_POST</cite> sont utilisées pour collecter des données de formulaire.</p>
<div class="section" id="php-un-formulaire-html-simple">
<h3>PHP - Un formulaire HTML simple<a class="headerlink" href="#php-un-formulaire-html-simple" title="Lien permanent vers ce titre">¶</a></h3>
<p>L’exemple ci-dessous affiche un formulaire HTML simple avec deux champs de saisie et un bouton d’envoi :</p>
<div class="highlight-php notranslate"><div class="highlight"><pre><span></span><span class="x">&lt;!DOCTYPE html&gt;</span>
<span class="x">  &lt;html&gt;</span>
<span class="x">  &lt;body&gt;</span>
<span class="x">    &lt;form action=&quot;bienvenue.php&quot; method=&quot;post&quot;&gt;</span>
<span class="x">        Nom : &lt;input type=&quot;text&quot; name=&quot;name&quot;&gt;&lt;br&gt;</span>
<span class="x">        Courriel : &lt;input type=&quot;text&quot; name=&quot;email&quot;&gt;&lt;br&gt;</span>
<span class="x">        &lt;input type=&quot;submit&quot;&gt;</span>
<span class="x">    &lt;/form&gt;</span>
<span class="x">   &lt;/body&gt;</span>
<span class="x"> &lt;/html&gt;</span>
</pre></div>
</div>
<p>Lorsque l’utilisateur remplit le formulaire ci-dessus et clique sur le bouton <cite>Soumettre</cite>, les données du formulaire sont envoyées pour traitement dans un fichier PHP nommé « bienvenue.php ». Les données du formulaire sont envoyées avec la méthode <cite>HTTP POST</cite>.</p>
<p>Pour afficher les données soumises, vous pouvez simplement faire <cite>echo</cite> à toutes les variables. Le fichier « bienvenue.php » ressemble à ceci :</p>
<div class="highlight-php notranslate"><div class="highlight"><pre><span></span><span class="x">&lt;!DOCTYPE html&gt;</span>
<span class="x">    &lt;html&gt;</span>
<span class="x">        &lt;body&gt;</span>
<span class="x">            Bienvenue </span><span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$_POST</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">];</span> <span class="cp">?&gt;</span><span class="x">&lt;br&gt;</span>
<span class="x">            Votre adresse e-mail est : </span><span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$_POST</span><span class="p">[</span><span class="s2">&quot;email&quot;</span><span class="p">]</span> <span class="p">;</span> <span class="cp">?&gt;</span><span class="x"></span>
<span class="x">        &lt;/body&gt;</span>
<span class="x">   &lt;/html&gt;</span>
</pre></div>
</div>
<p>La sortie pourrait être quelque chose comme ceci :</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Bienvenue Jean Votre adresse e-mail est <a class="reference external" href="mailto:john&#46;doe&#37;&#52;&#48;example&#46;com">john<span>&#46;</span>doe<span>&#64;</span>example<span>&#46;</span>com</a></p>
</div>
<p>Le même résultat pourrait également être obtenu en utilisant la méthode HTTP GET :</p>
<div class="highlight-php notranslate"><div class="highlight"><pre><span></span><span class="x"> &lt;html&gt;</span>
<span class="x">    &lt;body&gt;</span>
<span class="x">        &lt;form action=&quot;welcome_get.php&quot; method=&quot;get&quot;&gt;</span>
<span class="x">            Nom : &lt;input type=&quot;text&quot; name=&quot;name&quot;&gt;&lt;br&gt;</span>
<span class="x">            Courriel : &lt;input type=&quot;text&quot; name=&quot;email&quot;&gt;&lt;br&gt;</span>
<span class="x">            &lt;input type=&quot;submit&quot;&gt;</span>
<span class="x">       &lt;/form&gt;</span>
<span class="x">   &lt;/body&gt;</span>
<span class="x">&lt;/html&gt;</span>
</pre></div>
</div>
<p>et « welcome_get.php » ressemble à ceci :</p>
<div class="highlight-php notranslate"><div class="highlight"><pre><span></span><span class="x"> &lt;html&gt;</span>
<span class="x">     &lt;body&gt;</span>
<span class="x">         Bienvenue </span><span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$_GET</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">];</span> <span class="cp">?&gt;</span><span class="x">&lt;br&gt;</span>
<span class="x">         Votre adresse e-mail est : </span><span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$_GET</span><span class="p">[</span><span class="s2">&quot;email&quot;</span><span class="p">]</span> <span class="p">;</span> <span class="cp">?&gt;</span><span class="x"></span>
<span class="x">     &lt;/body&gt;</span>
<span class="x">&lt;/html&gt;</span>
</pre></div>
</div>
<p>Le code ci-dessus est assez simple. Cependant, il manque le plus important. Vous devez valider les données du formulaire pour protéger votre script des codes malveillants.</p>
<p>Pensez SÉCURITÉ lors du traitement des formulaires PHP !</p>
<p>Cette page ne contient aucune validation de formulaire, elle montre simplement comment vous pouvez envoyer et récupérer des données de formulaire.</p>
<p>Cependant, les pages suivantes montreront comment traiter les formulaires PHP en gardant à l’esprit la sécurité ! Une validation correcte des données du formulaire est importante pour protéger votre formulaire des pirates et des spammeurs !</p>
</div>
<div class="section" id="get-vs-post">
<h3>GET vs POST<a class="headerlink" href="#get-vs-post" title="Lien permanent vers ce titre">¶</a></h3>
<p>GET et POST créent tous deux un tableau (par exemple, array( key1 =&gt; value1, key2 =&gt; value2, key3 =&gt; value3, …)). Ce tableau contient des paires clé/valeur, où les clés sont les noms des contrôles de formulaire et les valeurs sont les données d’entrée de l’utilisateur.</p>
<p>GET et POST sont tous deux traités comme <cite>$_GET</cite> et <cite>$_POST</cite>. Ce sont des superglobales, ce qui signifie qu’elles sont toujours accessibles, quelle que soit la portée - et vous pouvez y accéder à partir de n’importe quelle fonction, classe ou fichier sans avoir à faire quoi que ce soit de spécial.</p>
<p><cite>$_GET</cite> est un tableau de variables passé au script courant via les paramètres d’URL.</p>
<p><cite>$_POST</cite> est un tableau de variables passé au script courant via la méthode HTTP POST.</p>
</div>
<div class="section" id="quand-utiliser-get">
<h3>Quand utiliser GET ?<a class="headerlink" href="#quand-utiliser-get" title="Lien permanent vers ce titre">¶</a></h3>
<p>Les informations envoyées depuis un formulaire avec la méthode GET sont visibles par tous (tous les noms et valeurs des variables sont affichés dans l’URL). GET a également des limites sur la quantité d’informations à envoyer. La limitation est d’environ 2000 caractères. Cependant, comme les variables sont affichées dans l’URL, il est possible de mettre la page en signet. Cela peut être utile dans certains cas.</p>
<p>GET peut être utilisé pour envoyer des données non sensibles.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>GET ne doit JAMAIS être utilisé pour envoyer des mots de passe ou d’autres informations sensibles !</p>
</div>
</div>
<div class="section" id="quand-utiliser-post">
<h3>Quand utiliser POST ?<a class="headerlink" href="#quand-utiliser-post" title="Lien permanent vers ce titre">¶</a></h3>
<p>Les informations envoyées à partir d’un formulaire avec la méthode POST sont invisibles pour les autres (tous les noms/valeurs sont intégrés dans le corps de la requête HTTP) et n’ont aucune limite sur la quantité d’informations à envoyer.</p>
<p>De plus, POST prend en charge des fonctionnalités avancées telles que la prise en charge de l’entrée binaire en plusieurs parties lors du téléchargement de fichiers sur le serveur.</p>
<p>Cependant, comme les variables ne sont pas affichées dans l’URL, il n’est pas possible de mettre la page en signet.</p>
<p>Les développeurs préfèrent POST pour envoyer des données de formulaire.</p>
<p>Ensuite, voyons comment nous pouvons traiter les formulaires PHP de manière sécurisée !</p>
</div>
<div class="section" id="id1">
<h3>Exercices PHP<a class="headerlink" href="#id1" title="Lien permanent vers ce titre">¶</a></h3>
<p>Si le formulaire suivant est soumis, comment pouvez-vous, dans welcome.php, afficher la valeur du champ « fname » ?</p>
<div class="highlight-php notranslate"><div class="highlight"><pre><span></span><span class="x">&lt;form action=&quot;welcome.php&quot; method=&quot;get&quot;&gt;</span>
<span class="x">    Prénom : &lt;input type=&quot;text&quot; name=&quot;fname&quot;&gt;</span>
<span class="x">&lt;/form&gt;</span>


<span class="x">&lt;html&gt;</span>
<span class="x">  &lt;body&gt;</span>
<span class="x">        Bienvenue </span><span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nx">____________</span> <span class="p">;</span> <span class="cp">?&gt;</span><span class="x"></span>
<span class="x">   &lt;/body&gt;</span>
<span class="x">&lt;/html&gt;</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="validation-de-formulaire-php">
<h2>Validation de formulaire PHP<a class="headerlink" href="#validation-de-formulaire-php" title="Lien permanent vers ce titre">¶</a></h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Pensez SÉCURITÉ lors du traitement des formulaires PHP !</p>
</div>
<p>Cette section montre comment traiter les formulaires PHP en gardant à l’esprit la sécurité.
Une validation correcte des données du formulaire est importante pour protéger votre formulaire des pirates et des spammeurs !</p>
<p>Le formulaire HTML sur lequel nous allons travailler dans ces chapitres contient divers champs de saisie :</p>
<ul class="simple">
<li><p>des champs de texte obligatoires et facultatifs,</p></li>
<li><p>des boutons radio et un bouton d’envoi</p></li>
</ul>
<p>Les règles de validation du formulaire sont les suivantes :</p>
<p>Règles de validation de champ
* Nom (obligatoire. + Ne doit contenir que des lettres et des espaces
* Email (requis. + Doit contenir une adresse email valide (avec &#64; et .)
* Site Internet (optionnel. S’il est présent, il doit contenir une URL valide
* Commentaire Facultatif. Champ de saisie multiligne (zone de texte)
* Sexe requis. Doit en sélectionner un</p>
<p>Tout d’abord, nous allons examiner le code HTML brut du formulaire :</p>
<p>Les champs nom, e-mail et site Web sont des éléments de saisie de texte et le champ de commentaire est une zone de texte. Le code HTML ressemble à ceci :</p>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span>Nom : <span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;text&quot;</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;name&quot;</span><span class="p">&gt;</span>
Courriel : <span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;text&quot;</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;email&quot;</span><span class="p">&gt;</span>
Site Web : <span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;text&quot;</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;website&quot;</span><span class="p">&gt;</span>
Commentaire : <span class="p">&lt;</span><span class="nt">textarea</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;comment&quot;</span> <span class="na">rows</span><span class="o">=</span><span class="s">&quot;5&quot;</span> <span class="na">cols</span><span class="o">=</span><span class="s">&quot;40&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">textarea</span><span class="p">&gt;</span>
</pre></div>
</div>
<p>Boutons radio</p>
<p>Les champs du genre sont des boutons radio et le code HTML ressemble à ceci :
Genre:</p>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;radio&quot;</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;gender&quot;</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;female&quot;</span><span class="p">&gt;</span>Femme
<span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;radio&quot;</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;gender&quot;</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;male&quot;</span><span class="p">&gt;</span>Homme
<span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;radio&quot;</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;gender&quot;</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;other&quot;</span><span class="p">&gt;</span>Autre
</pre></div>
</div>
<p>L’élément de formulaire</p>
<p>Le code HTML du formulaire ressemble à ceci :</p>
<div class="highlight-php notranslate"><div class="highlight"><pre><span></span><span class="x">&lt;form method=&quot;post&quot; action=&quot;</span><span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nb">htmlspecialchars</span><span class="p">(</span><span class="nv">$_SERVER</span><span class="p">[</span><span class="s2">&quot;PHP_SELF&quot;</span><span class="p">]);</span><span class="cp">?&gt;</span><span class="x">&quot;&gt;</span>
</pre></div>
</div>
<p>Lorsque le formulaire est soumis, les données du formulaire sont envoyées avec method= »post ».</p>
<div class="section" id="qu-est-ce-que-la-variable-server-php-self">
<h3>Qu’est-ce que la variable $_SERVER[« PHP_SELF »] ?<a class="headerlink" href="#qu-est-ce-que-la-variable-server-php-self" title="Lien permanent vers ce titre">¶</a></h3>
<p>Le $_SERVER[« PHP_SELF »] est une variable super globale qui renvoie le nom de fichier du script en cours d’exécution.</p>
<p>Ainsi, le $_SERVER[« PHP_SELF »] envoie les données du formulaire soumis à la page elle-même, au lieu de passer à une autre page. De cette façon, l’utilisateur obtiendra des messages d’erreur sur la même page que le formulaire.</p>
</div>
<div class="section" id="qu-est-ce-que-la-fonction-htmlspecialchars">
<h3>Qu’est-ce que la fonction htmlspecialchars() ?<a class="headerlink" href="#qu-est-ce-que-la-fonction-htmlspecialchars" title="Lien permanent vers ce titre">¶</a></h3>
<p>La fonction htmlspecialchars() convertit les caractères spéciaux en entités HTML. Cela signifie qu’il remplacera les caractères HTML tels que &lt; et &gt; par &amp;lt; et &amp;gt;. Cela empêche les attaquants d’exploiter le code en injectant du code HTML ou Javascript (attaques de type « Cross-site Scripting ») dans les formulaires.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Grande note sur la sécurité des formulaires PHP</p>
<p>La variable $_SERVER[« PHP_SELF »] peut être utilisée par des hackers ! Si PHP_SELF est utilisé dans votre page, un utilisateur peut saisir une barre oblique (/) puis des commandes de Cross Site Scripting (XSS) à exécuter.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Les scripts intersites (XSS) sont un type de vulnérabilité de sécurité informatique que l’on trouve généralement dans les applications Web. XSS permet aux attaquants d’injecter un script côté client dans des pages Web consultées par d’autres utilisateurs.</p>
</div>
<p>Supposons que nous ayons le formulaire suivant dans une page nommée « test_form.php »:</p>
<div class="highlight-php notranslate"><div class="highlight"><pre><span></span><span class="x">&lt;form method=&quot;post&quot; action=&quot;</span><span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$_SERVER</span><span class="p">[</span><span class="s2">&quot;PHP_SELF&quot;</span><span class="p">];</span><span class="cp">?&gt;</span><span class="x">&quot;&gt;</span>
</pre></div>
</div>
<p>Maintenant, si un utilisateur entre l’URL normale dans la barre d’adresse comme « <a class="reference external" href="http://www.example.com/test_form.php">http://www.example.com/test_form.php</a> », le code ci-dessus sera traduit en :</p>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">form</span> <span class="na">method</span><span class="o">=</span><span class="s">&quot;post&quot;</span> <span class="na">action</span><span class="o">=</span><span class="s">&quot;test_form.php&quot;</span><span class="p">&gt;</span>
</pre></div>
</div>
<p>Jusqu’ici tout va bien.</p>
<p>Cependant, considérez qu’un utilisateur saisit l’URL suivante dans la barre d’adresse :
<a class="reference external" href="http://www.example.com/test_form.php">http://www.example.com/test_form.php</a>/%22%3E%3Cscript%3Ealert(“piraté”)%3C/script%3E</p>
<p>Dans ce cas, le code ci-dessus sera traduit en :</p>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">form</span> <span class="na">method</span><span class="o">=</span><span class="s">&quot;post&quot;</span> <span class="na">action</span><span class="o">=</span><span class="s">&quot;test_form.php/&quot;</span><span class="p">&gt;&lt;</span><span class="nt">script</span><span class="p">&gt;</span><span class="nx">alerte</span><span class="p">(</span><span class="s1">&#39;piraté&#39;</span><span class="p">)&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</pre></div>
</div>
<p>Ce code ajoute une balise de script et une commande d’alerte. Et lorsque la page se charge, le code JavaScript sera exécuté (l’utilisateur verra une boîte d’alerte). Ceci est juste un exemple simple et inoffensif de la façon dont la variable PHP_SELF peut être exploitée.</p>
<p>Sachez que n’importe quel code JavaScript peut être ajouté à l’intérieur de la balise &lt;script&gt; ! Un pirate peut rediriger l’utilisateur vers un fichier sur un autre serveur, et ce fichier peut contenir un code malveillant qui peut modifier les variables globales ou soumettre le formulaire à une autre adresse pour enregistrer les données de l’utilisateur, par exemple.</p>
</div>
<div class="section" id="comment-eviter-les-exploits-de-server-php-self">
<h3>Comment éviter les exploits de $_SERVER[« PHP_SELF »] ?<a class="headerlink" href="#comment-eviter-les-exploits-de-server-php-self" title="Lien permanent vers ce titre">¶</a></h3>
<p>Les exploits $_SERVER[« PHP_SELF »] peuvent être évités en utilisant la fonction htmlspecialchars().</p>
<p>Le code du formulaire devrait ressembler à ceci :</p>
<div class="highlight-php notranslate"><div class="highlight"><pre><span></span><span class="x">&lt;form method=&quot;post&quot; action=&quot;</span><span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nb">htmlspecialchars</span><span class="p">(</span><span class="nv">$_SERVER</span><span class="p">[</span><span class="s2">&quot;PHP_SELF&quot;</span><span class="p">]);</span><span class="cp">?&gt;</span><span class="x">&quot;&gt;</span>
</pre></div>
</div>
<p>La fonction htmlspecialchars() convertit les caractères spéciaux en entités HTML. Maintenant, si l’utilisateur essaie d’exploiter la variable PHP_SELF, cela entraînera la sortie suivante :</p>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">form</span> <span class="na">method</span><span class="o">=</span><span class="s">&quot;post&quot;</span> <span class="na">action</span><span class="o">=</span><span class="s">&quot;test_form.php/&amp;quot;&amp;gt;&amp;lt;script&amp;gt;alert(&#39;piraté&#39;)&amp;lt;/script&amp;gt;&quot;</span><span class="p">&gt;</span>
</pre></div>
</div>
<p>La tentative d’exploit échoue, et aucun mal n’est fait !</p>
</div>
<div class="section" id="valider-les-donnees-de-formulaire-avec-php">
<h3>Valider les données de formulaire avec PHP<a class="headerlink" href="#valider-les-donnees-de-formulaire-avec-php" title="Lien permanent vers ce titre">¶</a></h3>
<p>La première chose que nous allons faire est de passer toutes les variables via la fonction htmlspecialchars() de PHP.</p>
<p>Lorsque nous utilisons la fonction htmlspecialchars(); puis si un utilisateur essaie de soumettre ce qui suit dans un champ de texte :</p>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span><span class="nx">location</span><span class="p">.</span><span class="nx">href</span><span class="p">(</span><span class="s1">&#39;http://www.hacked.com&#39;</span><span class="p">)&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</pre></div>
</div>
<ul class="simple">
<li><p>cela ne serait pas exécuté, car il serait enregistré en tant que code HTML échappé, comme ceci :</p></li>
</ul>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span><span class="ni">&amp;lt;</span>script<span class="ni">&amp;gt;</span>location.href(&#39;http://www.hacked.com&#39;)<span class="ni">&amp;lt;</span>/script<span class="ni">&amp;gt;</span>
</pre></div>
</div>
<p>Le code peut désormais être affiché en toute sécurité sur une page ou dans un e-mail.</p>
<p>Nous ferons également deux autres choses lorsque l’utilisateur soumettra le formulaire :</p>
<blockquote>
<div><ul class="simple">
<li><p>Supprimez les caractères inutiles (espace supplémentaire, tabulation, nouvelle ligne) des données d’entrée utilisateur (avec la fonction PHP trim())</p></li>
<li><p>Supprimer les barres obliques inverses () des données d’entrée utilisateur (avec la fonction PHP stripslashes())</p></li>
</ul>
</div></blockquote>
<p>L’étape suivante consiste à créer une fonction qui effectuera toute la vérification pour nous (ce qui est beaucoup plus pratique que d’écrire le même code encore et encore).</p>
<p>Nous nommerons la fonction test_input().</p>
<p>Maintenant, nous pouvons vérifier chaque variable $_POST avec la fonction test_input(), et le script ressemble à ceci :</p>
<div class="highlight-php notranslate"><div class="highlight"><pre><span></span><span class="cp">&lt;?php</span>
    <span class="c1">// définir les variables et définir des valeurs vides</span>
    <span class="nv">$name</span> <span class="o">=</span> <span class="nv">$email</span> <span class="o">=</span> <span class="nv">$gender</span> <span class="o">=</span> <span class="nv">$comment</span> <span class="o">=</span> <span class="nv">$website</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span> <span class="p">;</span>

    <span class="k">if</span> <span class="p">(</span><span class="nv">$_SERVER</span><span class="p">[</span><span class="s2">&quot;REQUEST_METHOD&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;POST&quot;</span><span class="p">)</span> <span class="p">{</span>
        <span class="nv">$nom</span> <span class="o">=</span> <span class="nx">test_input</span><span class="p">(</span><span class="nv">$_POST</span><span class="p">[</span><span class="s2">&quot;nom&quot;</span><span class="p">]);</span>
        <span class="nv">$email</span> <span class="o">=</span> <span class="nx">test_input</span><span class="p">(</span><span class="nv">$_POST</span><span class="p">[</span><span class="s2">&quot;email&quot;</span><span class="p">]);</span>
        <span class="nv">$site_Web</span> <span class="o">=</span> <span class="nx">test_input</span><span class="p">(</span><span class="nv">$_POST</span><span class="p">[</span><span class="s2">&quot;site_Web&quot;</span><span class="p">]);</span>
        <span class="nv">$commentaire</span> <span class="o">=</span> <span class="nx">test_input</span><span class="p">(</span><span class="nv">$_POST</span><span class="p">[</span><span class="s2">&quot;commentaire&quot;</span><span class="p">]);</span>
        <span class="nv">$genre</span> <span class="o">=</span> <span class="nx">test_input</span><span class="p">(</span><span class="nv">$_POST</span><span class="p">[</span><span class="s2">&quot;genre&quot;</span><span class="p">]);</span>
    <span class="p">}</span>

    <span class="nx">fonction</span> <span class="nx">test_input</span><span class="p">(</span><span class="nv">$data</span><span class="p">)</span> <span class="p">{</span>
        <span class="nv">$data</span> <span class="o">=</span> <span class="nb">trim</span><span class="p">(</span><span class="nv">$data</span><span class="p">);</span>
        <span class="nv">$data</span> <span class="o">=</span> <span class="nb">stripslashes</span><span class="p">(</span><span class="nv">$data</span><span class="p">);</span>
        <span class="nv">$data</span> <span class="o">=</span> <span class="nb">htmlspecialchars</span><span class="p">(</span><span class="nv">$data</span><span class="p">);</span>
        <span class="nx">renvoie</span> <span class="nv">$data </span><span class="p">;</span>
   <span class="p">}</span>
<span class="cp">?&gt;</span><span class="x"></span>
</pre></div>
</div>
<p>Notez qu’au début du script, nous vérifions si le formulaire a été soumis en utilisant $_SERVER[« REQUEST_METHOD »]. Si REQUEST_METHOD est POST, alors le formulaire a été soumis - et il doit être validé. S’il n’a pas été soumis, ignorez la validation et affichez un formulaire vierge.</p>
<p>Cependant, dans l’exemple ci-dessus, tous les champs de saisie sont facultatifs. Le script fonctionne bien même si l’utilisateur n’entre aucune donnée.</p>
<p>L’étape suivante consiste à rendre les champs de saisie obligatoires et à créer des messages d’erreur si nécessaire.</p>
</div>
<div class="section" id="php-champs-obligatoires">
<h3>PHP - Champs obligatoires<a class="headerlink" href="#php-champs-obligatoires" title="Lien permanent vers ce titre">¶</a></h3>
<p>Les champs « Nom », « E-mail » et « Sexe » sont obligatoires. Ces champs ne peuvent pas être vides et doivent être remplis dans le formulaire HTML.</p>
<p>Dans le code suivant, nous avons ajouté de nouvelles variables : $nameErr, $emailErr, $genderErr et $websiteErr. Ces variables d’erreur contiendront des messages d’erreur pour les champs requis. Nous avons également ajouté une instruction if else pour chaque variable $_POST. Ceci vérifie si la variable $_POST est vide (avec la fonction PHP empty()). S’il est vide, un message d’erreur est stocké dans les différentes variables d’erreur, et s’il n’est pas vide, il envoie les données d’entrée utilisateur via la fonction test_input() :</p>
<div class="highlight-php notranslate"><div class="highlight"><pre><span></span><span class="cp">&lt;?php</span>
<span class="c1">// define variables and set to empty values</span>
<span class="nv">$nameErr</span> <span class="o">=</span> <span class="nv">$emailErr</span> <span class="o">=</span> <span class="nv">$genderErr</span> <span class="o">=</span> <span class="nv">$websiteErr</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">;</span>
<span class="nv">$name</span> <span class="o">=</span> <span class="nv">$email</span> <span class="o">=</span> <span class="nv">$gender</span> <span class="o">=</span> <span class="nv">$comment</span> <span class="o">=</span> <span class="nv">$website</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">;</span>
<span class="k">if</span> <span class="p">(</span><span class="nv">$_SERVER</span><span class="p">[</span><span class="s2">&quot;REQUEST_METHOD&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;POST&quot;</span><span class="p">)</span> <span class="p">{</span>
<span class="k">if</span> <span class="p">(</span><span class="k">empty</span><span class="p">(</span><span class="nv">$_POST</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]))</span> <span class="p">{</span>
 <span class="nv">$nameErr</span> <span class="o">=</span> <span class="s2">&quot;Name is required&quot;</span><span class="p">;</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
 <span class="nv">$name</span> <span class="o">=</span> <span class="nx">test_input</span><span class="p">(</span><span class="nv">$_POST</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]);</span>
<span class="p">}</span>

<span class="k">if</span> <span class="p">(</span><span class="k">empty</span><span class="p">(</span><span class="nv">$_POST</span><span class="p">[</span><span class="s2">&quot;email&quot;</span><span class="p">]))</span> <span class="p">{</span>
 <span class="nv">$emailErr</span> <span class="o">=</span> <span class="s2">&quot;Email is required&quot;</span><span class="p">;</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
 <span class="nv">$email</span> <span class="o">=</span> <span class="nx">test_input</span><span class="p">(</span><span class="nv">$_POST</span><span class="p">[</span><span class="s2">&quot;email&quot;</span><span class="p">]);</span>
<span class="p">}</span>

<span class="k">if</span> <span class="p">(</span><span class="k">empty</span><span class="p">(</span><span class="nv">$_POST</span><span class="p">[</span><span class="s2">&quot;website&quot;</span><span class="p">]))</span> <span class="p">{</span>
 <span class="nv">$website</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">;</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
 <span class="nv">$website</span> <span class="o">=</span> <span class="nx">test_input</span><span class="p">(</span><span class="nv">$_POST</span><span class="p">[</span><span class="s2">&quot;website&quot;</span><span class="p">]);</span>
<span class="p">}</span>

<span class="k">if</span> <span class="p">(</span><span class="k">empty</span><span class="p">(</span><span class="nv">$_POST</span><span class="p">[</span><span class="s2">&quot;comment&quot;</span><span class="p">]))</span> <span class="p">{</span>
 <span class="nv">$comment</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">;</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
 <span class="nv">$comment</span> <span class="o">=</span> <span class="nx">test_input</span><span class="p">(</span><span class="nv">$_POST</span><span class="p">[</span><span class="s2">&quot;comment&quot;</span><span class="p">]);</span>
<span class="p">}</span>

<span class="k">if</span> <span class="p">(</span><span class="k">empty</span><span class="p">(</span><span class="nv">$_POST</span><span class="p">[</span><span class="s2">&quot;gender&quot;</span><span class="p">]))</span> <span class="p">{</span>
 <span class="nv">$genderErr</span> <span class="o">=</span> <span class="s2">&quot;Gender is required&quot;</span><span class="p">;</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
 <span class="nv">$gender</span> <span class="o">=</span> <span class="nx">test_input</span><span class="p">(</span><span class="nv">$_POST</span><span class="p">[</span><span class="s2">&quot;gender&quot;</span><span class="p">]);</span>
<span class="p">}</span>
<span class="p">}</span>
<span class="cp">?&gt;</span><span class="x"></span>
</pre></div>
</div>
</div>
<div class="section" id="php-afficher-les-messages-d-erreur">
<h3>PHP - Afficher les messages d’erreur<a class="headerlink" href="#php-afficher-les-messages-d-erreur" title="Lien permanent vers ce titre">¶</a></h3>
<p>Ensuite dans le formulaire HTML, nous ajoutons un petit script après chaque champ obligatoire, qui génère le message d’erreur correct si besoin (c’est-à-dire si l’utilisateur essaie de soumettre le formulaire sans remplir les champs obligatoires) :
Exemple</p>
<div class="highlight-php notranslate"><div class="highlight"><pre><span></span><span class="x">&lt;form method=&quot;post&quot; action=&quot;</span><span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nb">htmlspecialchars</span><span class="p">(</span><span class="nv">$_SERVER</span><span class="p">[</span><span class="s2">&quot;PHP_SELF&quot;</span><span class="p">]);</span><span class="cp">?&gt;</span><span class="x">&quot;&gt;</span>
<span class="x">Name: &lt;input type=&quot;text&quot; name=&quot;name&quot;&gt;</span>
<span class="x">&lt;span class=&quot;error&quot;&gt;* </span><span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$nameErr</span><span class="p">;</span><span class="cp">?&gt;</span><span class="x">&lt;/span&gt;</span>
<span class="x">&lt;br&gt;&lt;br&gt;</span>
<span class="x">E-mail:</span>
<span class="x">&lt;input type=&quot;text&quot; name=&quot;email&quot;&gt;</span>
<span class="x">&lt;span class=&quot;error&quot;&gt;* </span><span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$emailErr</span><span class="p">;</span><span class="cp">?&gt;</span><span class="x">&lt;/span&gt;</span>
<span class="x">&lt;br&gt;&lt;br&gt;</span>
<span class="x">Website:</span>
<span class="x">&lt;input type=&quot;text&quot; name=&quot;website&quot;&gt;</span>
<span class="x">&lt;span class=&quot;error&quot;&gt;</span><span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$websiteErr</span><span class="p">;</span><span class="cp">?&gt;</span><span class="x">&lt;/span&gt;</span>
<span class="x">&lt;br&gt;&lt;br&gt;</span>
<span class="x">Comment: &lt;textarea name=&quot;comment&quot; rows=&quot;5&quot; cols=&quot;40&quot;&gt;&lt;/textarea&gt;</span>
<span class="x">&lt;br&gt;&lt;br&gt;</span>
<span class="x">Gender:</span>
<span class="x">&lt;input type=&quot;radio&quot; name=&quot;gender&quot; value=&quot;female&quot;&gt;Female</span>
<span class="x">&lt;input type=&quot;radio&quot; name=&quot;gender&quot; value=&quot;male&quot;&gt;Male</span>
<span class="x">&lt;input type=&quot;radio&quot; name=&quot;gender&quot; value=&quot;other&quot;&gt;Other</span>
<span class="x">&lt;span class=&quot;error&quot;&gt;* </span><span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$genderErr</span><span class="p">;</span><span class="cp">?&gt;</span><span class="x">&lt;/span&gt;</span>
<span class="x">&lt;br&gt;&lt;br&gt;</span>
<span class="x">&lt;input type=&quot;submit&quot; name=&quot;submit&quot; value=&quot;Submit&quot;&gt;</span>
<span class="x">&lt;/form&gt;</span>
</pre></div>
</div>
<p>L’étape suivante consiste à valider les données d’entrée, c’est-à-dire « Le champ Nom ne contient-il que des lettres et des espaces ? » et « Le champ E-mail contient-il une syntaxe d’adresse e-mail valide ? », et s’il est rempli,  » Le champ Site Web contient-il une URL valide ? ».</p>
<div class="highlight-php notranslate"><div class="highlight"><pre><span></span><span class="cp">&lt;?php</span>
<span class="c1">// define variables and set to empty values</span>
<span class="nv">$nameErr</span> <span class="o">=</span> <span class="nv">$emailErr</span> <span class="o">=</span> <span class="nv">$genderErr</span> <span class="o">=</span> <span class="nv">$websiteErr</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">;</span>
<span class="nv">$name</span> <span class="o">=</span> <span class="nv">$email</span> <span class="o">=</span> <span class="nv">$gender</span> <span class="o">=</span> <span class="nv">$comment</span> <span class="o">=</span> <span class="nv">$website</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">;</span>

<span class="k">if</span> <span class="p">(</span><span class="nv">$_SERVER</span><span class="p">[</span><span class="s2">&quot;REQUEST_METHOD&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;POST&quot;</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="k">empty</span><span class="p">(</span><span class="nv">$_POST</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]))</span> <span class="p">{</span>
  <span class="nv">$nameErr</span> <span class="o">=</span> <span class="s2">&quot;Name is required&quot;</span><span class="p">;</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
  <span class="nv">$name</span> <span class="o">=</span> <span class="nx">test_input</span><span class="p">(</span><span class="nv">$_POST</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]);</span>
  <span class="c1">// check if name only contains letters and whitespace</span>
  <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nb">preg_match</span><span class="p">(</span><span class="s2">&quot;/^[a-zA-Z-&#39; ]*$/&quot;</span><span class="p">,</span><span class="nv">$name</span><span class="p">))</span> <span class="p">{</span>
    <span class="nv">$nameErr</span> <span class="o">=</span> <span class="s2">&quot;Only letters and white space allowed&quot;</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="k">if</span> <span class="p">(</span><span class="k">empty</span><span class="p">(</span><span class="nv">$_POST</span><span class="p">[</span><span class="s2">&quot;email&quot;</span><span class="p">]))</span> <span class="p">{</span>
  <span class="nv">$emailErr</span> <span class="o">=</span> <span class="s2">&quot;Email is required&quot;</span><span class="p">;</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
  <span class="nv">$email</span> <span class="o">=</span> <span class="nx">test_input</span><span class="p">(</span><span class="nv">$_POST</span><span class="p">[</span><span class="s2">&quot;email&quot;</span><span class="p">]);</span>
  <span class="c1">// check if e-mail address is well-formed</span>
  <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nb">filter_var</span><span class="p">(</span><span class="nv">$email</span><span class="p">,</span> <span class="nx">FILTER_VALIDATE_EMAIL</span><span class="p">))</span> <span class="p">{</span>
    <span class="nv">$emailErr</span> <span class="o">=</span> <span class="s2">&quot;Invalid email format&quot;</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="k">if</span> <span class="p">(</span><span class="k">empty</span><span class="p">(</span><span class="nv">$_POST</span><span class="p">[</span><span class="s2">&quot;website&quot;</span><span class="p">]))</span> <span class="p">{</span>
  <span class="nv">$website</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">;</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
  <span class="nv">$website</span> <span class="o">=</span> <span class="nx">test_input</span><span class="p">(</span><span class="nv">$_POST</span><span class="p">[</span><span class="s2">&quot;website&quot;</span><span class="p">]);</span>
  <span class="c1">// check if URL address syntax is valid (this regular expression also allows dashes in the URL)</span>
  <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nb">preg_match</span><span class="p">(</span><span class="s2">&quot;/\b(?:(?:https?|ftp):\/\/|www\.)[-a-z0-9+&amp;@#\/%?=~_|!:,.;]*[-a-z0-9+&amp;@#\/%=~_|]/i&quot;</span><span class="p">,</span><span class="nv">$website</span><span class="p">))</span> <span class="p">{</span>
    <span class="nv">$websiteErr</span> <span class="o">=</span> <span class="s2">&quot;Invalid URL&quot;</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>
<span class="k">if</span> <span class="p">(</span><span class="k">empty</span><span class="p">(</span><span class="nv">$_POST</span><span class="p">[</span><span class="s2">&quot;comment&quot;</span><span class="p">]))</span> <span class="p">{</span>
  <span class="nv">$comment</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">;</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
  <span class="nv">$comment</span> <span class="o">=</span> <span class="nx">test_input</span><span class="p">(</span><span class="nv">$_POST</span><span class="p">[</span><span class="s2">&quot;comment&quot;</span><span class="p">]);</span>
<span class="p">}</span>
<span class="k">if</span> <span class="p">(</span><span class="k">empty</span><span class="p">(</span><span class="nv">$_POST</span><span class="p">[</span><span class="s2">&quot;gender&quot;</span><span class="p">]))</span> <span class="p">{</span>
  <span class="nv">$genderErr</span> <span class="o">=</span> <span class="s2">&quot;Gender is required&quot;</span><span class="p">;</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
  <span class="nv">$gender</span> <span class="o">=</span> <span class="nx">test_input</span><span class="p">(</span><span class="nv">$_POST</span><span class="p">[</span><span class="s2">&quot;gender&quot;</span><span class="p">]);</span>
<span class="p">}</span>
<span class="p">}</span>
<span class="cp">?&gt;</span><span class="x"></span>
</pre></div>
</div>
<p>L’étape suivante consiste à montrer comment empêcher le formulaire de vider tous les champs de saisie lorsque l’utilisateur soumet le formulaire.</p>
<div class="highlight-php notranslate"><div class="highlight"><pre><span></span><span class="x">&lt;html&gt;</span>
<span class="x">&lt;body&gt;</span>
<span class="x">   Name: &lt;input type=&quot;text&quot; name=&quot;name&quot; value=&quot;</span><span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$name</span><span class="p">;</span><span class="cp">?&gt;</span><span class="x">&quot;&gt;</span>
<span class="x">   E-mail: &lt;input type=&quot;text&quot; name=&quot;email&quot; value=&quot;</span><span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$email</span><span class="p">;</span><span class="cp">?&gt;</span><span class="x">&quot;&gt;</span>
<span class="x">   Website: &lt;input type=&quot;text&quot; name=&quot;website&quot; value=&quot;</span><span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$website</span><span class="p">;</span><span class="cp">?&gt;</span><span class="x">&quot;&gt;</span>
<span class="x">   Comment: &lt;textarea name=&quot;comment&quot; rows=&quot;5&quot; cols=&quot;40&quot;&gt;</span><span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$comment</span><span class="p">;</span><span class="cp">?&gt;</span><span class="x">&lt;/textarea&gt;</span>
<span class="x">   Gender:</span>
<span class="x">   &lt;input type=&quot;radio&quot; name=&quot;gender&quot; </span><span class="cp">&lt;?php</span> <span class="k">if</span> <span class="p">(</span><span class="nb">isset</span><span class="p">(</span><span class="nv">$gender</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="nv">$gender</span><span class="o">==</span><span class="s2">&quot;female&quot;</span><span class="p">)</span> <span class="k">echo</span> <span class="s2">&quot;checked&quot;</span><span class="p">;</span><span class="cp">?&gt;</span><span class="x"> value=&quot;female&quot;&gt;Female</span>
<span class="x">   &lt;input type=&quot;radio&quot; name=&quot;gender&quot; </span><span class="cp">&lt;?php</span> <span class="k">if</span> <span class="p">(</span><span class="nb">isset</span><span class="p">(</span><span class="nv">$gender</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="nv">$gender</span><span class="o">==</span><span class="s2">&quot;male&quot;</span><span class="p">)</span> <span class="k">echo</span> <span class="s2">&quot;checked&quot;</span><span class="p">;</span><span class="cp">?&gt;</span><span class="x"> value=&quot;male&quot;&gt;Male</span>
<span class="x">   &lt;input type=&quot;radio&quot; name=&quot;gender&quot; </span><span class="cp">&lt;?php</span> <span class="k">if</span> <span class="p">(</span><span class="nb">isset</span><span class="p">(</span><span class="nv">$gender</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="nv">$gender</span><span class="o">==</span><span class="s2">&quot;other&quot;</span><span class="p">)</span> <span class="k">echo</span> <span class="s2">&quot;checked&quot;</span><span class="p">;</span><span class="cp">?&gt;</span><span class="x"> value=&quot;other&quot;&gt;Other</span>
<span class="x">&lt;/body&gt;</span>
<span class="x">&lt;/html&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="base-de-donnees-mysql">
<h3>Base de données MySQL<a class="headerlink" href="#base-de-donnees-mysql" title="Lien permanent vers ce titre">¶</a></h3>
<p>Avec PHP, vous pouvez vous connecter et manipuler des bases de données.</p>
<p>MySQL est le système de base de données le plus populaire utilisé avec PHP.</p>
</div>
<div class="section" id="qu-est-ce-que-mysql">
<h3>Qu’est-ce que MySQL ?<a class="headerlink" href="#qu-est-ce-que-mysql" title="Lien permanent vers ce titre">¶</a></h3>
<blockquote>
<div><ul class="simple">
<li><p>MySQL est un système de base de données utilisé sur le Web</p></li>
<li><p>MySQL est un système de base de données qui s’exécute sur un serveur</p></li>
<li><p>MySQL est idéal pour les petites et les grandes applications</p></li>
<li><p>MySQL est très rapide, fiable et facile à utiliser</p></li>
<li><p>MySQL utilise le SQL standard</p></li>
<li><p>MySQL compile sur un certain nombre de plates-formes</p></li>
<li><p>MySQL est gratuit à télécharger et à utiliser</p></li>
<li><p>MySQL est développé, distribué et pris en charge par Oracle Corporation</p></li>
<li><p>MySQL porte le nom de la fille du co-fondateur Monty Widenius : My</p></li>
</ul>
</div></blockquote>
<p>Les données d’une base de données MySQL sont stockées dans des tables. Une table est une collection de données connexes et se compose de colonnes et de lignes.</p>
<p>Les bases de données sont utiles pour stocker des informations de manière catégorique. Une entreprise peut avoir une base de données avec les tables suivantes :</p>
<blockquote>
<div><ul class="simple">
<li><p>Employés</p></li>
<li><p>Produits</p></li>
<li><p>Clients</p></li>
<li><p>Commandes</p></li>
</ul>
</div></blockquote>
</div>
<div class="section" id="systeme-de-base-de-donnees-php-mysql">
<h3>Système de base de données PHP + MySQL<a class="headerlink" href="#systeme-de-base-de-donnees-php-mysql" title="Lien permanent vers ce titre">¶</a></h3>
<blockquote>
<div><p>PHP combiné à MySQL est multiplateforme (vous pouvez développer sous Windows et servir sur une plate-forme Unix)</p>
</div></blockquote>
</div>
<div class="section" id="requetes-de-base-de-donnees">
<h3>Requêtes de base de données<a class="headerlink" href="#requetes-de-base-de-donnees" title="Lien permanent vers ce titre">¶</a></h3>
<p>Une requête est une question ou une demande.</p>
<p>Nous pouvons interroger une base de données pour obtenir des informations spécifiques et obtenir un jeu d’enregistrements renvoyé.</p>
<p>Regardez la requête suivante (en utilisant le SQL standard) :</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">SELECT</span><span class="w"> </span><span class="n">Nom</span><span class="w"> </span><span class="n">de</span><span class="w"> </span><span class="n">famille</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">Employés</span><span class="w"></span>
</pre></div>
</div>
<p>La requête ci-dessus sélectionne toutes les données de la colonne « Nom » de la table « Employés ».</p>
</div>
<div class="section" id="telecharger-la-base-de-donnees-mysql">
<h3>Télécharger la base de données MySQL<a class="headerlink" href="#telecharger-la-base-de-donnees-mysql" title="Lien permanent vers ce titre">¶</a></h3>
<p>Si vous n’avez pas de serveur PHP avec une base de données MySQL, vous pouvez le télécharger gratuitement ici : <a class="reference external" href="http://www.mysql.com">http://www.mysql.com</a></p>
</div>
<div class="section" id="faits-sur-la-base-de-donnees-mysql">
<h3>Faits sur la base de données MySQL<a class="headerlink" href="#faits-sur-la-base-de-donnees-mysql" title="Lien permanent vers ce titre">¶</a></h3>
<p>MySQL est le système de base de données standard de facto pour les sites Web avec d’énormes volumes de données et d’utilisateurs finaux (comme Facebook, Twitter et Wikipedia).</p>
<p>Un autre avantage de MySQL est qu’il peut être réduit pour prendre en charge les applications de base de données intégrées.</p>
<p>Regardez <a class="reference external" href="http://www.mysql.com/customers/">http://www.mysql.com/customers/</a> pour un aperçu des entreprises utilisant MySQL.</p>
</div>
</div>
<div class="section" id="php-se-connecter-a-mysql">
<h2>PHP: se connecter à MySQL<a class="headerlink" href="#php-se-connecter-a-mysql" title="Lien permanent vers ce titre">¶</a></h2>
<p>PHP 5 et les versions ultérieures peuvent fonctionner avec une base de données MySQL en utilisant :</p>
<blockquote>
<div><ul class="simple">
<li><p>Extension MySQLi (le « i » signifie amélioré)</p></li>
<li><p>PDO (objets de données PHP)</p></li>
</ul>
</div></blockquote>
<p>Les versions antérieures de PHP utilisaient l’extension MySQL. Cependant, cette extension a été dépréciée en 2012.</p>
</div>
<div class="section" id="dois-je-utiliser-mysqli-ou-pdo">
<h2>Dois-je utiliser MySQLi ou PDO ?<a class="headerlink" href="#dois-je-utiliser-mysqli-ou-pdo" title="Lien permanent vers ce titre">¶</a></h2>
<p>Si vous avez besoin d’une réponse courte, ce serait « Tout ce que vous voulez ».</p>
<p>MySQLi et PDO ont tous deux leurs avantages :</p>
<p>PDO fonctionnera sur 12 systèmes de bases de données différents, alors que MySQLi ne fonctionnera qu’avec les bases de données MySQL.</p>
<p>Ainsi, si vous devez changer de projet pour utiliser une autre base de données, PDO facilite le processus. Vous n’avez qu’à changer la chaîne de connexion et quelques requêtes. Avec MySQLi, vous devrez réécrire tout le code - requêtes incluses.</p>
<p>Les deux sont orientés objet, mais MySQLi propose également une API procédurale.</p>
<p>Les deux prennent en charge les déclarations préparées (requêtes préparées). Les instructions préparées protègent de l’injection SQL et sont très importantes pour la sécurité des applications Web.</p>
</div>
<div class="section" id="exemples-mysql-dans-la-syntaxe-mysqli-et-pdo">
<h2>Exemples MySQL dans la syntaxe MySQLi et PDO<a class="headerlink" href="#exemples-mysql-dans-la-syntaxe-mysqli-et-pdo" title="Lien permanent vers ce titre">¶</a></h2>
<p>Dans cette section et dans les section suivantes, nous montrons trois façons de travailler avec PHP et MySQL :</p>
<blockquote>
<div><ul class="simple">
<li><p>MySQLi (orienté objet)</p></li>
<li><p>MySQLi (procédural)</p></li>
<li><p>PDO</p></li>
</ul>
</div></blockquote>
<div class="section" id="installation-de-mysqli">
<h3>Installation de MySQLi<a class="headerlink" href="#installation-de-mysqli" title="Lien permanent vers ce titre">¶</a></h3>
<p>Pour Linux et Windows : L’extension MySQLi est installée automatiquement dans la plupart des cas, lorsque le package php5 mysql est installé.</p>
<p>Pour plus de détails sur l’installation, allez sur : <a class="reference external" href="http://php.net/manual/en/mysqli.installation.php">http://php.net/manual/en/mysqli.installation.php</a></p>
</div>
<div class="section" id="installation-pdo">
<h3>Installation PDO<a class="headerlink" href="#installation-pdo" title="Lien permanent vers ce titre">¶</a></h3>
<p>Pour plus de détails sur l’installation, allez sur : <a class="reference external" href="http://php.net/manual/en/pdo.installation.php">http://php.net/manual/en/pdo.installation.php</a></p>
</div>
<div class="section" id="ouvrir-une-connexion-a-mysql">
<h3>Ouvrir une connexion à MySQL<a class="headerlink" href="#ouvrir-une-connexion-a-mysql" title="Lien permanent vers ce titre">¶</a></h3>
<p>Avant de pouvoir accéder aux données de la base de données MySQL, nous devons pouvoir nous connecter au serveur :</p>
<p>Exemple (MySQLi Object-Oriented)</p>
<div class="highlight-php notranslate"><div class="highlight"><pre><span></span><span class="cp">&lt;?php</span>
  <span class="nv">$servername</span> <span class="o">=</span> <span class="s2">&quot;localhost&quot;</span><span class="p">;</span>
  <span class="nv">$username</span> <span class="o">=</span> <span class="s2">&quot;username&quot;</span><span class="p">;</span>
  <span class="nv">$password</span> <span class="o">=</span> <span class="s2">&quot;password&quot;</span><span class="p">;</span>

  <span class="c1">// Create connection</span>
  <span class="nv">$conn</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">mysqli</span><span class="p">(</span><span class="nv">$servername</span><span class="p">,</span> <span class="nv">$username</span><span class="p">,</span> <span class="nv">$password</span><span class="p">);</span>

  <span class="c1">// Check connection</span>
  <span class="k">if</span> <span class="p">(</span><span class="nv">$conn</span><span class="o">-&gt;</span><span class="na">connect_error</span><span class="p">)</span> <span class="p">{</span>
     <span class="k">die</span><span class="p">(</span><span class="s2">&quot;Connection failed: &quot;</span> <span class="o">.</span> <span class="nv">$conn</span><span class="o">-&gt;</span><span class="na">connect_error</span><span class="p">);</span>
  <span class="p">}</span>
  <span class="k">echo</span> <span class="s2">&quot;Connected successfully&quot;</span><span class="p">;</span>
<span class="cp">?&gt;</span><span class="x"></span>
</pre></div>
</div>
<p>Exemple (MySQLi Procedural)</p>
<div class="highlight-php notranslate"><div class="highlight"><pre><span></span><span class="x"> </span><span class="cp">&lt;?php</span>
 <span class="nv">$servername</span> <span class="o">=</span> <span class="s2">&quot;localhost&quot;</span><span class="p">;</span>
 <span class="nv">$username</span> <span class="o">=</span> <span class="s2">&quot;username&quot;</span><span class="p">;</span>
 <span class="nv">$password</span> <span class="o">=</span> <span class="s2">&quot;password&quot;</span><span class="p">;</span>

 <span class="c1">// Create connection</span>
 <span class="nv">$conn</span> <span class="o">=</span> <span class="nb">mysqli_connect</span><span class="p">(</span><span class="nv">$servername</span><span class="p">,</span> <span class="nv">$username</span><span class="p">,</span> <span class="nv">$password</span><span class="p">);</span>

 <span class="c1">// Check connection</span>
 <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nv">$conn</span><span class="p">)</span> <span class="p">{</span>
   <span class="k">die</span><span class="p">(</span><span class="s2">&quot;Connection failed: &quot;</span> <span class="o">.</span> <span class="nx">mysqli_connect_error</span><span class="p">());</span>
 <span class="p">}</span>
 <span class="k">echo</span> <span class="s2">&quot;Connected successfully&quot;</span><span class="p">;</span>
<span class="cp">?&gt;</span><span class="x"></span>
</pre></div>
</div>
<p>Exemple PDO</p>
<div class="highlight-php notranslate"><div class="highlight"><pre><span></span><span class="x"> </span><span class="cp">&lt;?php</span>
 <span class="nv">$servername</span> <span class="o">=</span> <span class="s2">&quot;localhost&quot;</span><span class="p">;</span>
 <span class="nv">$username</span> <span class="o">=</span> <span class="s2">&quot;username&quot;</span><span class="p">;</span>
 <span class="nv">$password</span> <span class="o">=</span> <span class="s2">&quot;password&quot;</span><span class="p">;</span>

 <span class="k">try</span> <span class="p">{</span>
    <span class="nv">$conn</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">PDO</span><span class="p">(</span><span class="s2">&quot;mysql:host=</span><span class="si">$servername</span><span class="s2">;dbname=myDB&quot;</span><span class="p">,</span> <span class="nv">$username</span><span class="p">,</span> <span class="nv">$password</span><span class="p">);</span>
   <span class="c1">// set the PDO error mode to exception</span>
   <span class="nv">$conn</span><span class="o">-&gt;</span><span class="na">setAttribute</span><span class="p">(</span><span class="nx">PDO</span><span class="o">::</span><span class="na">ATTR_ERRMODE</span><span class="p">,</span> <span class="nx">PDO</span><span class="o">::</span><span class="na">ERRMODE_EXCEPTION</span><span class="p">);</span>
   <span class="k">echo</span> <span class="s2">&quot;Connected successfully&quot;</span><span class="p">;</span>
  <span class="p">}</span> <span class="k">catch</span><span class="p">(</span><span class="nx">PDOException</span> <span class="nv">$e</span><span class="p">)</span> <span class="p">{</span>
   <span class="k">echo</span> <span class="s2">&quot;Connection failed: &quot;</span> <span class="o">.</span> <span class="nv">$e</span><span class="o">-&gt;</span><span class="na">getMessage</span><span class="p">();</span>
    <span class="p">}</span>
<span class="cp">?&gt;</span><span class="x"></span>
</pre></div>
</div>
</div>
<div class="section" id="fermer-la-connexion">
<h3>Fermer la connexion<a class="headerlink" href="#fermer-la-connexion" title="Lien permanent vers ce titre">¶</a></h3>
<p>La connexion sera fermée automatiquement à la fin du script. Pour fermer la connexion avant, utilisez ce qui suit :</p>
<p>MySQLi Object-Oriented:</p>
<div class="highlight-php notranslate"><div class="highlight"><pre><span></span><span class="x">$conn-&gt;close();</span>
</pre></div>
</div>
<p>MySQLi Procedural:</p>
<div class="highlight-php notranslate"><div class="highlight"><pre><span></span><span class="x">mysqli_close($conn);</span>
</pre></div>
</div>
<p>PDO:</p>
<div class="highlight-php notranslate"><div class="highlight"><pre><span></span><span class="x">$conn = null;</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="creer-une-base-de-donnees-mysql-en-utilisant-mysqli-et-pdo">
<h2>Créer une base de données MySQL en utilisant MySQLi et PDO<a class="headerlink" href="#creer-une-base-de-donnees-mysql-en-utilisant-mysqli-et-pdo" title="Lien permanent vers ce titre">¶</a></h2>
<p>L’instruction CREATE DATABASE est utilisée pour créer une base de données dans MySQL.</p>
<p>Les exemples suivants créent une base de données nommée « myDB » :</p>
<p>Exemple (MySQLi Object-oriented)</p>
<div class="highlight-php notranslate"><div class="highlight"><pre><span></span><span class="x">  </span><span class="cp">&lt;?php</span>
   <span class="nv">$servername</span> <span class="o">=</span> <span class="s2">&quot;localhost&quot;</span><span class="p">;</span>
   <span class="nv">$username</span> <span class="o">=</span> <span class="s2">&quot;username&quot;</span><span class="p">;</span>
   <span class="nv">$password</span> <span class="o">=</span> <span class="s2">&quot;password&quot;</span><span class="p">;</span>

   <span class="c1">// Create connection</span>
   <span class="nv">$conn</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">mysqli</span><span class="p">(</span><span class="nv">$servername</span><span class="p">,</span> <span class="nv">$username</span><span class="p">,</span> <span class="nv">$password</span><span class="p">);</span>
   <span class="c1">// Check connection</span>
   <span class="k">if</span> <span class="p">(</span><span class="nv">$conn</span><span class="o">-&gt;</span><span class="na">connect_error</span><span class="p">)</span> <span class="p">{</span>
       <span class="k">die</span><span class="p">(</span><span class="s2">&quot;Connection failed: &quot;</span> <span class="o">.</span> <span class="nv">$conn</span><span class="o">-&gt;</span><span class="na">connect_error</span><span class="p">);</span>
   <span class="p">}</span>

   <span class="c1">// Create database</span>
   <span class="nv">$sql</span> <span class="o">=</span> <span class="s2">&quot;CREATE DATABASE myDB&quot;</span><span class="p">;</span>
  <span class="k">if</span> <span class="p">(</span><span class="nv">$conn</span><span class="o">-&gt;</span><span class="na">query</span><span class="p">(</span><span class="nv">$sql</span><span class="p">)</span> <span class="o">===</span> <span class="k">TRUE</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">echo</span> <span class="s2">&quot;Database created successfully&quot;</span><span class="p">;</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
      <span class="k">echo</span> <span class="s2">&quot;Error creating database: &quot;</span> <span class="o">.</span> <span class="nv">$conn</span><span class="o">-&gt;</span><span class="na">error</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="nv">$conn</span><span class="o">-&gt;</span><span class="na">close</span><span class="p">();</span>
<span class="cp">?&gt;</span><span class="x"></span>
</pre></div>
</div>
<p>Exemple (MySQLi Procedural)</p>
<div class="highlight-php notranslate"><div class="highlight"><pre><span></span><span class="cp">&lt;?php</span>
    <span class="nv">$servername</span> <span class="o">=</span> <span class="s2">&quot;localhost&quot;</span><span class="p">;</span>
    <span class="nv">$username</span> <span class="o">=</span> <span class="s2">&quot;username&quot;</span><span class="p">;</span>
    <span class="nv">$password</span> <span class="o">=</span> <span class="s2">&quot;password&quot;</span><span class="p">;</span>

    <span class="c1">// Create connection</span>
    <span class="nv">$conn</span> <span class="o">=</span> <span class="nb">mysqli_connect</span><span class="p">(</span><span class="nv">$servername</span><span class="p">,</span> <span class="nv">$username</span><span class="p">,</span> <span class="nv">$password</span><span class="p">);</span>
    <span class="c1">// Check connection</span>
    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nv">$conn</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">die</span><span class="p">(</span><span class="s2">&quot;Connection failed: &quot;</span> <span class="o">.</span> <span class="nx">mysqli_connect_error</span><span class="p">());</span>
    <span class="p">}</span>

    <span class="c1">// Create database</span>
    <span class="nv">$sql</span> <span class="o">=</span> <span class="s2">&quot;CREATE DATABASE myDB&quot;</span><span class="p">;</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">mysqli_query</span><span class="p">(</span><span class="nv">$conn</span><span class="p">,</span> <span class="nv">$sql</span><span class="p">))</span> <span class="p">{</span>
        <span class="k">echo</span> <span class="s2">&quot;Database created successfully&quot;</span><span class="p">;</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="k">echo</span> <span class="s2">&quot;Error creating database: &quot;</span> <span class="o">.</span> <span class="nx">mysqli_error</span><span class="p">(</span><span class="nv">$conn</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="nx">mysqli_close</span><span class="p">(</span><span class="nv">$conn</span><span class="p">);</span>
<span class="cp">?&gt;</span><span class="x"></span>
</pre></div>
</div>
<p>Exemple (PDO)</p>
<div class="highlight-php notranslate"><div class="highlight"><pre><span></span><span class="x"> </span><span class="cp">&lt;?php</span>
      <span class="nv">$servername</span> <span class="o">=</span> <span class="s2">&quot;localhost&quot;</span><span class="p">;</span>
      <span class="nv">$username</span> <span class="o">=</span> <span class="s2">&quot;username&quot;</span><span class="p">;</span>
      <span class="nv">$password</span> <span class="o">=</span> <span class="s2">&quot;password&quot;</span><span class="p">;</span>

      <span class="k">try</span> <span class="p">{</span>
            <span class="nv">$conn</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">PDO</span><span class="p">(</span><span class="s2">&quot;mysql:host=</span><span class="si">$servername</span><span class="s2">&quot;</span><span class="p">,</span> <span class="nv">$username</span><span class="p">,</span> <span class="nv">$password</span><span class="p">);</span>
            <span class="c1">// set the PDO error mode to exception</span>
            <span class="nv">$conn</span><span class="o">-&gt;</span><span class="na">setAttribute</span><span class="p">(</span><span class="nx">PDO</span><span class="o">::</span><span class="na">ATTR_ERRMODE</span><span class="p">,</span> <span class="nx">PDO</span><span class="o">::</span><span class="na">ERRMODE_EXCEPTION</span><span class="p">);</span>
            <span class="nv">$sql</span> <span class="o">=</span> <span class="s2">&quot;CREATE DATABASE myDBPDO&quot;</span><span class="p">;</span>
            <span class="c1">// use exec() because no results are returned</span>
            <span class="nv">$conn</span><span class="o">-&gt;</span><span class="na">exec</span><span class="p">(</span><span class="nv">$sql</span><span class="p">);</span>
            <span class="k">echo</span> <span class="s2">&quot;Database created successfully&lt;br&gt;&quot;</span><span class="p">;</span>
      <span class="p">}</span> <span class="k">catch</span><span class="p">(</span><span class="nx">PDOException</span> <span class="nv">$e</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">echo</span> <span class="nv">$sql</span> <span class="o">.</span> <span class="s2">&quot;&lt;br&gt;&quot;</span> <span class="o">.</span> <span class="nv">$e</span><span class="o">-&gt;</span><span class="na">getMessage</span><span class="p">();</span>
      <span class="p">}</span>

      <span class="nv">$conn</span> <span class="o">=</span> <span class="k">null</span><span class="p">;</span>
<span class="cp">?&gt;</span><span class="x"></span>
</pre></div>
</div>
</div>
<div class="section" id="creer-une-table-mysql-en-utilisant-mysqli-et-pdo">
<h2>Créer une table MySQL en utilisant MySQLi et PDO<a class="headerlink" href="#creer-une-table-mysql-en-utilisant-mysqli-et-pdo" title="Lien permanent vers ce titre">¶</a></h2>
<p>L’instruction CREATE TABLE est utilisée pour créer une table dans MySQL.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">MyGuests</span><span class="w"> </span><span class="p">(</span><span class="w"></span>
<span class="n">id</span><span class="w"> </span><span class="nb">INT</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span><span class="w"> </span><span class="n">UNSIGNED</span><span class="w"> </span><span class="n">AUTO_INCREMENT</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="p">,</span><span class="w"></span>
<span class="n">firstname</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w"></span>
<span class="n">lastname</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w"></span>
<span class="n">email</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">50</span><span class="p">),</span><span class="w"></span>
<span class="n">reg_date</span><span class="w"> </span><span class="k">TIMESTAMP</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">CURRENT_TIMESTAMP</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="k">UPDATE</span><span class="w"> </span><span class="k">CURRENT_TIMESTAMP</span><span class="w"></span>
<span class="p">)</span><span class="w"></span>
</pre></div>
</div>
<p>Nous allons créer une table nommée « MyGuests », avec cinq colonnes : « id », « firstname », « lastname », « email » et « reg_date »:</p>
<p>Exemple (MySQLi Object-oriented)</p>
<div class="highlight-php notranslate"><div class="highlight"><pre><span></span><span class="x">  </span><span class="cp">&lt;?php</span>
      <span class="nv">$servername</span> <span class="o">=</span> <span class="s2">&quot;localhost&quot;</span><span class="p">;</span>
      <span class="nv">$username</span> <span class="o">=</span> <span class="s2">&quot;username&quot;</span><span class="p">;</span>
      <span class="nv">$password</span> <span class="o">=</span> <span class="s2">&quot;password&quot;</span><span class="p">;</span>
      <span class="nv">$dbname</span> <span class="o">=</span> <span class="s2">&quot;myDB&quot;</span><span class="p">;</span>

      <span class="c1">// Create connection</span>
      <span class="nv">$conn</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">mysqli</span><span class="p">(</span><span class="nv">$servername</span><span class="p">,</span> <span class="nv">$username</span><span class="p">,</span> <span class="nv">$password</span><span class="p">,</span> <span class="nv">$dbname</span><span class="p">);</span>
      <span class="c1">// Check connection</span>
      <span class="k">if</span> <span class="p">(</span><span class="nv">$conn</span><span class="o">-&gt;</span><span class="na">connect_error</span><span class="p">)</span> <span class="p">{</span>
           <span class="k">die</span><span class="p">(</span><span class="s2">&quot;Connection failed: &quot;</span> <span class="o">.</span> <span class="nv">$conn</span><span class="o">-&gt;</span><span class="na">connect_error</span><span class="p">);</span>
      <span class="p">}</span>

      <span class="c1">// sql to create table</span>
      <span class="nv">$sql</span> <span class="o">=</span> <span class="s2">&quot;CREATE TABLE MyGuests (</span>
<span class="s2">         id INT(6) UNSIGNED AUTO_INCREMENT PRIMARY KEY,</span>
<span class="s2">         firstname VARCHAR(30) NOT NULL,</span>
<span class="s2">         lastname VARCHAR(30) NOT NULL,</span>
<span class="s2">         email VARCHAR(50),</span>
<span class="s2">         reg_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP</span>
<span class="s2">   )&quot;</span><span class="p">;</span>

   <span class="k">if</span> <span class="p">(</span><span class="nv">$conn</span><span class="o">-&gt;</span><span class="na">query</span><span class="p">(</span><span class="nv">$sql</span><span class="p">)</span> <span class="o">===</span> <span class="k">TRUE</span><span class="p">)</span> <span class="p">{</span>
       <span class="k">echo</span> <span class="s2">&quot;Table MyGuests created successfully&quot;</span><span class="p">;</span>
   <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
       <span class="k">echo</span> <span class="s2">&quot;Error creating table: &quot;</span> <span class="o">.</span> <span class="nv">$conn</span><span class="o">-&gt;</span><span class="na">error</span><span class="p">;</span>
   <span class="p">}</span>

   <span class="nv">$conn</span><span class="o">-&gt;</span><span class="na">close</span><span class="p">();</span>
<span class="cp">?&gt;</span><span class="x"></span>
</pre></div>
</div>
<p>Exemple (MySQLi Procedural)</p>
<div class="highlight-php notranslate"><div class="highlight"><pre><span></span><span class="cp">&lt;?php</span>
    <span class="nv">$servername</span> <span class="o">=</span> <span class="s2">&quot;localhost&quot;</span><span class="p">;</span>
    <span class="nv">$username</span> <span class="o">=</span> <span class="s2">&quot;username&quot;</span><span class="p">;</span>
    <span class="nv">$password</span> <span class="o">=</span> <span class="s2">&quot;password&quot;</span><span class="p">;</span>
    <span class="nv">$dbname</span> <span class="o">=</span> <span class="s2">&quot;myDB&quot;</span><span class="p">;</span>

    <span class="c1">// Create connection</span>
    <span class="nv">$conn</span> <span class="o">=</span> <span class="nb">mysqli_connect</span><span class="p">(</span><span class="nv">$servername</span><span class="p">,</span> <span class="nv">$username</span><span class="p">,</span> <span class="nv">$password</span><span class="p">,</span> <span class="nv">$dbname</span><span class="p">);</span>
    <span class="c1">// Check connection</span>
    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nv">$conn</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">die</span><span class="p">(</span><span class="s2">&quot;Connection failed: &quot;</span> <span class="o">.</span> <span class="nx">mysqli_connect_error</span><span class="p">());</span>
    <span class="p">}</span>
    <span class="c1">// sql to create table</span>
    <span class="nv">$sql</span> <span class="o">=</span> <span class="s2">&quot;CREATE TABLE MyGuests (</span>
<span class="s2">        id INT(6) UNSIGNED AUTO_INCREMENT PRIMARY KEY,</span>
<span class="s2">        firstname VARCHAR(30) NOT NULL,</span>
<span class="s2">        lastname VARCHAR(30) NOT NULL,</span>
<span class="s2">        email VARCHAR(50),</span>
<span class="s2">        reg_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP</span>
<span class="s2">    )&quot;</span><span class="p">;</span>

    <span class="k">if</span> <span class="p">(</span><span class="nx">mysqli_query</span><span class="p">(</span><span class="nv">$conn</span><span class="p">,</span> <span class="nv">$sql</span><span class="p">))</span> <span class="p">{</span>
        <span class="k">echo</span> <span class="s2">&quot;Table MyGuests created successfully&quot;</span><span class="p">;</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="k">echo</span> <span class="s2">&quot;Error creating table: &quot;</span> <span class="o">.</span> <span class="nx">mysqli_error</span><span class="p">(</span><span class="nv">$conn</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="nx">mysqli_close</span><span class="p">(</span><span class="nv">$conn</span><span class="p">);</span>
<span class="cp">?&gt;</span><span class="x"></span>
</pre></div>
</div>
<p>Exemple (PDO)</p>
<div class="highlight-php notranslate"><div class="highlight"><pre><span></span><span class="cp">&lt;?php</span>
     <span class="nv">$servername</span> <span class="o">=</span> <span class="s2">&quot;localhost&quot;</span><span class="p">;</span>
     <span class="nv">$username</span> <span class="o">=</span> <span class="s2">&quot;username&quot;</span><span class="p">;</span>
     <span class="nv">$password</span> <span class="o">=</span> <span class="s2">&quot;password&quot;</span><span class="p">;</span>
     <span class="nv">$dbname</span> <span class="o">=</span> <span class="s2">&quot;myDBPDO&quot;</span><span class="p">;</span>

     <span class="k">try</span> <span class="p">{</span>
          <span class="nv">$conn</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">PDO</span><span class="p">(</span><span class="s2">&quot;mysql:host=</span><span class="si">$servername</span><span class="s2">;dbname=</span><span class="si">$dbname</span><span class="s2">&quot;</span><span class="p">,</span> <span class="nv">$username</span><span class="p">,</span> <span class="nv">$password</span><span class="p">);</span>
          <span class="c1">// set the PDO error mode to exception</span>
          <span class="nv">$conn</span><span class="o">-&gt;</span><span class="na">setAttribute</span><span class="p">(</span><span class="nx">PDO</span><span class="o">::</span><span class="na">ATTR_ERRMODE</span><span class="p">,</span> <span class="nx">PDO</span><span class="o">::</span><span class="na">ERRMODE_EXCEPTION</span><span class="p">);</span>

          <span class="c1">// sql to create table</span>
          <span class="nv">$sql</span> <span class="o">=</span> <span class="s2">&quot;CREATE TABLE MyGuests (</span>
<span class="s2">             id INT(6) UNSIGNED AUTO_INCREMENT PRIMARY KEY,</span>
<span class="s2">             firstname VARCHAR(30) NOT NULL,</span>
<span class="s2">             lastname VARCHAR(30) NOT NULL,</span>
<span class="s2">             email VARCHAR(50),</span>
<span class="s2">             reg_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP</span>
<span class="s2">          )&quot;</span><span class="p">;</span>

          <span class="c1">// use exec() because no results are returned</span>
          <span class="nv">$conn</span><span class="o">-&gt;</span><span class="na">exec</span><span class="p">(</span><span class="nv">$sql</span><span class="p">);</span>
          <span class="k">echo</span> <span class="s2">&quot;Table MyGuests created successfully&quot;</span><span class="p">;</span>
    <span class="p">}</span> <span class="k">catch</span><span class="p">(</span><span class="nx">PDOException</span> <span class="nv">$e</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">echo</span> <span class="nv">$sql</span> <span class="o">.</span> <span class="s2">&quot;&lt;br&gt;&quot;</span> <span class="o">.</span> <span class="nv">$e</span><span class="o">-&gt;</span><span class="na">getMessage</span><span class="p">();</span>
    <span class="p">}</span>

    <span class="nv">$conn</span> <span class="o">=</span> <span class="k">null</span><span class="p">;</span>
 <span class="cp">?&gt;</span><span class="x"></span>
</pre></div>
</div>
</div>
<div class="section" id="inserer-des-donnees-dans-mysql-a-l-aide-de-mysqli-et-pdo">
<h2>Insérer des données dans MySQL à l’aide de MySQLi et PDO<a class="headerlink" href="#inserer-des-donnees-dans-mysql-a-l-aide-de-mysqli-et-pdo" title="Lien permanent vers ce titre">¶</a></h2>
<p>Une fois qu’une base de données et une table ont été créées, nous pouvons commencer à y ajouter des données.</p>
<p>Voici quelques règles de syntaxe à suivre :</p>
<blockquote>
<div><ul class="simple">
<li><p>La requête SQL doit être entre guillemets en PHP</p></li>
<li><p>Les valeurs de chaîne à l’intérieur de la requête SQL doivent être entre guillemets</p></li>
<li><p>Les valeurs numériques ne doivent pas être  entre guillemets</p></li>
<li><p>Le mot NULL ne doit pas être entre guillemets</p></li>
</ul>
</div></blockquote>
<p>L’instruction INSERT INTO est utilisée pour ajouter de nouveaux enregistrements à une table MySQL :</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="k">table_name</span><span class="w"> </span><span class="p">(</span><span class="n">column1</span><span class="p">,</span><span class="w"> </span><span class="n">column2</span><span class="p">,</span><span class="w"> </span><span class="n">column3</span><span class="p">,...)</span><span class="w"></span>
<span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="n">value1</span><span class="p">,</span><span class="w"> </span><span class="n">value2</span><span class="p">,</span><span class="w"> </span><span class="n">value3</span><span class="p">,...)</span><span class="w"></span>
</pre></div>
</div>
<p>Exemple (MySQLi Object-oriented)</p>
<div class="highlight-php notranslate"><div class="highlight"><pre><span></span><span class="x"> </span><span class="cp">&lt;?php</span>
      <span class="nv">$servername</span> <span class="o">=</span> <span class="s2">&quot;localhost&quot;</span><span class="p">;</span>
      <span class="nv">$username</span> <span class="o">=</span> <span class="s2">&quot;username&quot;</span><span class="p">;</span>
      <span class="nv">$password</span> <span class="o">=</span> <span class="s2">&quot;password&quot;</span><span class="p">;</span>
      <span class="nv">$dbname</span> <span class="o">=</span> <span class="s2">&quot;myDB&quot;</span><span class="p">;</span>

      <span class="c1">// Create connection</span>
      <span class="nv">$conn</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">mysqli</span><span class="p">(</span><span class="nv">$servername</span><span class="p">,</span> <span class="nv">$username</span><span class="p">,</span> <span class="nv">$password</span><span class="p">,</span> <span class="nv">$dbname</span><span class="p">);</span>
      <span class="c1">// Check connection</span>
      <span class="k">if</span> <span class="p">(</span><span class="nv">$conn</span><span class="o">-&gt;</span><span class="na">connect_error</span><span class="p">)</span> <span class="p">{</span>
          <span class="k">die</span><span class="p">(</span><span class="s2">&quot;Connection failed: &quot;</span> <span class="o">.</span> <span class="nv">$conn</span><span class="o">-&gt;</span><span class="na">connect_error</span><span class="p">);</span>
      <span class="p">}</span>

      <span class="nv">$sql</span> <span class="o">=</span> <span class="s2">&quot;INSERT INTO MyGuests (firstname, lastname, email)</span>
<span class="s2">      VALUES (&#39;John&#39;, &#39;Doe&#39;, &#39;john@example.com&#39;)&quot;</span><span class="p">;</span>

      <span class="k">if</span> <span class="p">(</span><span class="nv">$conn</span><span class="o">-&gt;</span><span class="na">query</span><span class="p">(</span><span class="nv">$sql</span><span class="p">)</span> <span class="o">===</span> <span class="k">TRUE</span><span class="p">)</span> <span class="p">{</span>
          <span class="k">echo</span> <span class="s2">&quot;New record created successfully&quot;</span><span class="p">;</span>
      <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
         <span class="k">echo</span> <span class="s2">&quot;Error: &quot;</span> <span class="o">.</span> <span class="nv">$sql</span> <span class="o">.</span> <span class="s2">&quot;&lt;br&gt;&quot;</span> <span class="o">.</span> <span class="nv">$conn</span><span class="o">-&gt;</span><span class="na">error</span><span class="p">;</span>
      <span class="p">}</span>

      <span class="nv">$conn</span><span class="o">-&gt;</span><span class="na">close</span><span class="p">();</span>
<span class="cp">?&gt;</span><span class="x"></span>
</pre></div>
</div>
<p>Exemple (MySQLi Procedural)</p>
<div class="highlight-php notranslate"><div class="highlight"><pre><span></span><span class="cp">&lt;?php</span>
    <span class="nv">$servername</span> <span class="o">=</span> <span class="s2">&quot;localhost&quot;</span><span class="p">;</span>
    <span class="nv">$username</span> <span class="o">=</span> <span class="s2">&quot;username&quot;</span><span class="p">;</span>
    <span class="nv">$password</span> <span class="o">=</span> <span class="s2">&quot;password&quot;</span><span class="p">;</span>
    <span class="nv">$dbname</span> <span class="o">=</span> <span class="s2">&quot;myDB&quot;</span><span class="p">;</span>

    <span class="c1">// Create connection</span>
    <span class="nv">$conn</span> <span class="o">=</span> <span class="nb">mysqli_connect</span><span class="p">(</span><span class="nv">$servername</span><span class="p">,</span> <span class="nv">$username</span><span class="p">,</span> <span class="nv">$password</span><span class="p">,</span> <span class="nv">$dbname</span><span class="p">);</span>
    <span class="c1">// Check connection</span>
    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nv">$conn</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">die</span><span class="p">(</span><span class="s2">&quot;Connection failed: &quot;</span> <span class="o">.</span> <span class="nx">mysqli_connect_error</span><span class="p">());</span>
    <span class="p">}</span>

    <span class="nv">$sql</span> <span class="o">=</span> <span class="s2">&quot;INSERT INTO MyGuests (firstname, lastname, email)</span>
<span class="s2">         VALUES (&#39;John&#39;, &#39;Doe&#39;, &#39;john@example.com&#39;)&quot;</span><span class="p">;</span>

    <span class="k">if</span> <span class="p">(</span><span class="nx">mysqli_query</span><span class="p">(</span><span class="nv">$conn</span><span class="p">,</span> <span class="nv">$sql</span><span class="p">))</span> <span class="p">{</span>
         <span class="k">echo</span> <span class="s2">&quot;New record created successfully&quot;</span><span class="p">;</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
         <span class="k">echo</span> <span class="s2">&quot;Error: &quot;</span> <span class="o">.</span> <span class="nv">$sql</span> <span class="o">.</span> <span class="s2">&quot;&lt;br&gt;&quot;</span> <span class="o">.</span> <span class="nx">mysqli_error</span><span class="p">(</span><span class="nv">$conn</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="nx">mysqli_close</span><span class="p">(</span><span class="nv">$conn</span><span class="p">);</span>
<span class="cp">?&gt;</span><span class="x"></span>
</pre></div>
</div>
<p>Exemple (PDO)</p>
<div class="highlight-php notranslate"><div class="highlight"><pre><span></span><span class="cp">&lt;?php</span>
     <span class="nv">$servername</span> <span class="o">=</span> <span class="s2">&quot;localhost&quot;</span><span class="p">;</span>
     <span class="nv">$username</span> <span class="o">=</span> <span class="s2">&quot;username&quot;</span><span class="p">;</span>
     <span class="nv">$password</span> <span class="o">=</span> <span class="s2">&quot;password&quot;</span><span class="p">;</span>
     <span class="nv">$dbname</span> <span class="o">=</span> <span class="s2">&quot;myDBPDO&quot;</span><span class="p">;</span>

     <span class="k">try</span> <span class="p">{</span>
         <span class="nv">$conn</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">PDO</span><span class="p">(</span><span class="s2">&quot;mysql:host=</span><span class="si">$servername</span><span class="s2">;dbname=</span><span class="si">$dbname</span><span class="s2">&quot;</span><span class="p">,</span> <span class="nv">$username</span><span class="p">,</span> <span class="nv">$password</span><span class="p">);</span>
         <span class="c1">// set the PDO error mode to exception</span>
         <span class="nv">$conn</span><span class="o">-&gt;</span><span class="na">setAttribute</span><span class="p">(</span><span class="nx">PDO</span><span class="o">::</span><span class="na">ATTR_ERRMODE</span><span class="p">,</span> <span class="nx">PDO</span><span class="o">::</span><span class="na">ERRMODE_EXCEPTION</span><span class="p">);</span>
         <span class="nv">$sql</span> <span class="o">=</span> <span class="s2">&quot;INSERT INTO MyGuests (firstname, lastname, email)</span>
<span class="s2">             VALUES (&#39;John&#39;, &#39;Doe&#39;, &#39;john@example.com&#39;)&quot;</span><span class="p">;</span>
         <span class="c1">// use exec() because no results are returned</span>
         <span class="nv">$conn</span><span class="o">-&gt;</span><span class="na">exec</span><span class="p">(</span><span class="nv">$sql</span><span class="p">);</span>
         <span class="k">echo</span> <span class="s2">&quot;New record created successfully&quot;</span><span class="p">;</span>
    <span class="p">}</span> <span class="k">catch</span><span class="p">(</span><span class="nx">PDOException</span> <span class="nv">$e</span><span class="p">)</span> <span class="p">{</span>
         <span class="k">echo</span> <span class="nv">$sql</span> <span class="o">.</span> <span class="s2">&quot;&lt;br&gt;&quot;</span> <span class="o">.</span> <span class="nv">$e</span><span class="o">-&gt;</span><span class="na">getMessage</span><span class="p">();</span>
    <span class="p">}</span>

    <span class="nv">$conn</span> <span class="o">=</span> <span class="k">null</span><span class="p">;</span>
<span class="cp">?&gt;</span><span class="x"></span>
</pre></div>
</div>
</div>
<div class="section" id="requetes-preparees-et-parametres-lies">
<h2>Requêtes préparées et paramètres liés<a class="headerlink" href="#requetes-preparees-et-parametres-lies" title="Lien permanent vers ce titre">¶</a></h2>
<p>Une requête préparée est une fonctionnalité utilisée pour exécuter les mêmes instructions SQL (ou similaires) à plusieurs reprises avec une grande efficacité.</p>
<p>Les requêtes préparées fonctionnent essentiellement comme ceci :</p>
<blockquote>
<div><ul class="simple">
<li><p>Préparer : un modèle d’instruction SQL est créé et envoyé à la base de données. Certaines valeurs sont laissées non spécifiées, appelées paramètres (étiquetées  » ? »). Exemple : INSERT INTO MyGuests VALUES(?, ?, ?)</p></li>
<li><p>La base de données analyse, compile et exécute l’optimisation des requêtes sur le modèle d’instruction SQL et stocke le résultat sans l’exécuter</p></li>
<li><p>Exécuter : ultérieurement, l’application lie les valeurs aux paramètres et la base de données exécute l’instruction.</p></li>
</ul>
<p>L’application peut exécuter l’instruction autant de fois qu’elle le souhaite avec des valeurs différentes</p>
</div></blockquote>
<p>Par rapport à l’exécution directe d’instructions SQL, les instructions préparées présentent trois avantages principaux :</p>
<blockquote>
<div><ul class="simple">
<li><p>Les requêtes préparées réduisent le temps d’analyse car la préparation de la requête n’est effectuée qu’une seule fois (bien que l’instruction soit exécutée plusieurs fois)</p></li>
<li><p>Les paramètres liés minimisent la bande passante vers le serveur car vous devez envoyer uniquement les paramètres à chaque fois, et non la requête entière</p></li>
<li><p>Les requêtes préparées sont très utiles contre les injections SQL, car les valeurs des paramètres, qui sont transmises ultérieurement à l’aide d’un protocole différent, n’ont pas besoin d’être correctement échappées. Si le modèle d’instruction d’origine n’est pas dérivé d’une entrée externe, l’injection SQL ne peut pas se produire.</p></li>
</ul>
</div></blockquote>
<p>Exemple (MySQLi with Prepared Statements)</p>
<div class="highlight-php notranslate"><div class="highlight"><pre><span></span><span class="cp">&lt;?php</span>
     <span class="nv">$servername</span> <span class="o">=</span> <span class="s2">&quot;localhost&quot;</span><span class="p">;</span>
     <span class="nv">$username</span> <span class="o">=</span> <span class="s2">&quot;username&quot;</span><span class="p">;</span>
     <span class="nv">$password</span> <span class="o">=</span> <span class="s2">&quot;password&quot;</span><span class="p">;</span>
     <span class="nv">$dbname</span> <span class="o">=</span> <span class="s2">&quot;myDB&quot;</span><span class="p">;</span>

     <span class="c1">// Create connection</span>
     <span class="nv">$conn</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">mysqli</span><span class="p">(</span><span class="nv">$servername</span><span class="p">,</span> <span class="nv">$username</span><span class="p">,</span> <span class="nv">$password</span><span class="p">,</span> <span class="nv">$dbname</span><span class="p">);</span>

    <span class="c1">// Check connection</span>
    <span class="k">if</span> <span class="p">(</span><span class="nv">$conn</span><span class="o">-&gt;</span><span class="na">connect_error</span><span class="p">)</span> <span class="p">{</span>
         <span class="k">die</span><span class="p">(</span><span class="s2">&quot;Connection failed: &quot;</span> <span class="o">.</span> <span class="nv">$conn</span><span class="o">-&gt;</span><span class="na">connect_error</span><span class="p">);</span>
     <span class="p">}</span>

     <span class="c1">// prepare and bind</span>
     <span class="nv">$stmt</span> <span class="o">=</span> <span class="nv">$conn</span><span class="o">-&gt;</span><span class="na">prepare</span><span class="p">(</span><span class="s2">&quot;INSERT INTO MyGuests (firstname, lastname, email) VALUES (?, ?, ?)&quot;</span><span class="p">);</span>
     <span class="nv">$stmt</span><span class="o">-&gt;</span><span class="na">bind_param</span><span class="p">(</span><span class="s2">&quot;sss&quot;</span><span class="p">,</span> <span class="nv">$firstname</span><span class="p">,</span> <span class="nv">$lastname</span><span class="p">,</span> <span class="nv">$email</span><span class="p">);</span>

     <span class="c1">// set parameters and execute</span>
     <span class="nv">$firstname</span> <span class="o">=</span> <span class="s2">&quot;John&quot;</span><span class="p">;</span>
     <span class="nv">$lastname</span> <span class="o">=</span> <span class="s2">&quot;Doe&quot;</span><span class="p">;</span>
     <span class="nv">$email</span> <span class="o">=</span> <span class="s2">&quot;john@example.com&quot;</span><span class="p">;</span>
     <span class="nv">$stmt</span><span class="o">-&gt;</span><span class="na">execute</span><span class="p">();</span>

     <span class="nv">$firstname</span> <span class="o">=</span> <span class="s2">&quot;Mary&quot;</span><span class="p">;</span>
     <span class="nv">$lastname</span> <span class="o">=</span> <span class="s2">&quot;Moe&quot;</span><span class="p">;</span>
     <span class="nv">$email</span> <span class="o">=</span> <span class="s2">&quot;mary@example.com&quot;</span><span class="p">;</span>
     <span class="nv">$stmt</span><span class="o">-&gt;</span><span class="na">execute</span><span class="p">();</span>

     <span class="nv">$firstname</span> <span class="o">=</span> <span class="s2">&quot;Julie&quot;</span><span class="p">;</span>
     <span class="nv">$lastname</span> <span class="o">=</span> <span class="s2">&quot;Dooley&quot;</span><span class="p">;</span>
     <span class="nv">$email</span> <span class="o">=</span> <span class="s2">&quot;julie@example.com&quot;</span><span class="p">;</span>
     <span class="nv">$stmt</span><span class="o">-&gt;</span><span class="na">execute</span><span class="p">();</span>

     <span class="k">echo</span> <span class="s2">&quot;New records created successfully&quot;</span><span class="p">;</span>

     <span class="nv">$stmt</span><span class="o">-&gt;</span><span class="na">close</span><span class="p">();</span>
     <span class="nv">$conn</span><span class="o">-&gt;</span><span class="na">close</span><span class="p">();</span>
<span class="cp">?&gt;</span><span class="x"></span>
</pre></div>
</div>
<p>Exemple (PDO with Prepared Statements)</p>
<div class="highlight-php notranslate"><div class="highlight"><pre><span></span><span class="cp">&lt;?php</span>
   <span class="nv">$servername</span> <span class="o">=</span> <span class="s2">&quot;localhost&quot;</span><span class="p">;</span>
   <span class="nv">$username</span> <span class="o">=</span> <span class="s2">&quot;username&quot;</span><span class="p">;</span>
   <span class="nv">$password</span> <span class="o">=</span> <span class="s2">&quot;password&quot;</span><span class="p">;</span>
   <span class="nv">$dbname</span> <span class="o">=</span> <span class="s2">&quot;myDBPDO&quot;</span><span class="p">;</span>

   <span class="k">try</span> <span class="p">{</span>
       <span class="nv">$conn</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">PDO</span><span class="p">(</span><span class="s2">&quot;mysql:host=</span><span class="si">$servername</span><span class="s2">;dbname=</span><span class="si">$dbname</span><span class="s2">&quot;</span><span class="p">,</span> <span class="nv">$username</span><span class="p">,</span> <span class="nv">$password</span><span class="p">);</span>
       <span class="c1">// set the PDO error mode to exception</span>
       <span class="nv">$conn</span><span class="o">-&gt;</span><span class="na">setAttribute</span><span class="p">(</span><span class="nx">PDO</span><span class="o">::</span><span class="na">ATTR_ERRMODE</span><span class="p">,</span> <span class="nx">PDO</span><span class="o">::</span><span class="na">ERRMODE_EXCEPTION</span><span class="p">);</span>

       <span class="c1">// prepare sql and bind parameters</span>
       <span class="nv">$stmt</span> <span class="o">=</span> <span class="nv">$conn</span><span class="o">-&gt;</span><span class="na">prepare</span><span class="p">(</span><span class="s2">&quot;INSERT INTO MyGuests (firstname, lastname, email)</span>
<span class="s2">       VALUES (:firstname, :lastname, :email)&quot;</span><span class="p">);</span>
       <span class="nv">$stmt</span><span class="o">-&gt;</span><span class="na">bindParam</span><span class="p">(</span><span class="s1">&#39;:firstname&#39;</span><span class="p">,</span> <span class="nv">$firstname</span><span class="p">);</span>
       <span class="nv">$stmt</span><span class="o">-&gt;</span><span class="na">bindParam</span><span class="p">(</span><span class="s1">&#39;:lastname&#39;</span><span class="p">,</span> <span class="nv">$lastname</span><span class="p">);</span>
       <span class="nv">$stmt</span><span class="o">-&gt;</span><span class="na">bindParam</span><span class="p">(</span><span class="s1">&#39;:email&#39;</span><span class="p">,</span> <span class="nv">$email</span><span class="p">);</span>

       <span class="c1">// insert a row</span>
       <span class="nv">$firstname</span> <span class="o">=</span> <span class="s2">&quot;John&quot;</span><span class="p">;</span>
       <span class="nv">$lastname</span> <span class="o">=</span> <span class="s2">&quot;Doe&quot;</span><span class="p">;</span>
       <span class="nv">$email</span> <span class="o">=</span> <span class="s2">&quot;john@example.com&quot;</span><span class="p">;</span>
       <span class="nv">$stmt</span><span class="o">-&gt;</span><span class="na">execute</span><span class="p">();</span>

       <span class="c1">// insert another row</span>
       <span class="nv">$firstname</span> <span class="o">=</span> <span class="s2">&quot;Mary&quot;</span><span class="p">;</span>
       <span class="nv">$lastname</span> <span class="o">=</span> <span class="s2">&quot;Moe&quot;</span><span class="p">;</span>
       <span class="nv">$email</span> <span class="o">=</span> <span class="s2">&quot;mary@example.com&quot;</span><span class="p">;</span>
       <span class="nv">$stmt</span><span class="o">-&gt;</span><span class="na">execute</span><span class="p">();</span>

        <span class="c1">// insert another row</span>
        <span class="nv">$firstname</span> <span class="o">=</span> <span class="s2">&quot;Julie&quot;</span><span class="p">;</span>
       <span class="nv">$lastname</span> <span class="o">=</span> <span class="s2">&quot;Dooley&quot;</span><span class="p">;</span>
       <span class="nv">$email</span> <span class="o">=</span> <span class="s2">&quot;julie@example.com&quot;</span><span class="p">;</span>
       <span class="nv">$stmt</span><span class="o">-&gt;</span><span class="na">execute</span><span class="p">();</span>

       <span class="k">echo</span> <span class="s2">&quot;New records created successfully&quot;</span><span class="p">;</span>
       <span class="p">}</span> <span class="k">catch</span><span class="p">(</span><span class="nx">PDOException</span> <span class="nv">$e</span><span class="p">)</span> <span class="p">{</span>
           <span class="k">echo</span> <span class="s2">&quot;Error: &quot;</span> <span class="o">.</span> <span class="nv">$e</span><span class="o">-&gt;</span><span class="na">getMessage</span><span class="p">();</span>
       <span class="p">}</span>
       <span class="nv">$conn</span> <span class="o">=</span> <span class="k">null</span><span class="p">;</span>
     <span class="cp">?&gt;</span><span class="x"></span>
</pre></div>
</div>
</div>
<div class="section" id="selectionnez-les-donnees-d-une-base-de-donnees-mysql">
<h2>Sélectionnez les données d’une base de données MySQL<a class="headerlink" href="#selectionnez-les-donnees-d-une-base-de-donnees-mysql" title="Lien permanent vers ce titre">¶</a></h2>
<p>L’instruction SELECT permet de sélectionner des données dans une ou plusieurs tables :</p>
<p>SELECT column_name(s) FROM table_name</p>
<p>ou nous pouvons utiliser le caractère * pour sélectionner TOUTES les colonnes d’une table :</p>
<p>SELECT * FROM nom_table</p>
<p>Example (MySQLi Object-oriented)</p>
<div class="highlight-php notranslate"><div class="highlight"><pre><span></span><span class="cp">&lt;?php</span>
   <span class="nv">$servername</span> <span class="o">=</span> <span class="s2">&quot;localhost&quot;</span><span class="p">;</span>
   <span class="nv">$username</span> <span class="o">=</span> <span class="s2">&quot;username&quot;</span><span class="p">;</span>
   <span class="nv">$password</span> <span class="o">=</span> <span class="s2">&quot;password&quot;</span><span class="p">;</span>
   <span class="nv">$dbname</span> <span class="o">=</span> <span class="s2">&quot;myDB&quot;</span><span class="p">;</span>

   <span class="c1">// Create connection</span>
   <span class="nv">$conn</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">mysqli</span><span class="p">(</span><span class="nv">$servername</span><span class="p">,</span> <span class="nv">$username</span><span class="p">,</span> <span class="nv">$password</span><span class="p">,</span> <span class="nv">$dbname</span><span class="p">);</span>
   <span class="c1">// Check connection</span>
   <span class="k">if</span> <span class="p">(</span><span class="nv">$conn</span><span class="o">-&gt;</span><span class="na">connect_error</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">die</span><span class="p">(</span><span class="s2">&quot;Connection failed: &quot;</span> <span class="o">.</span> <span class="nv">$conn</span><span class="o">-&gt;</span><span class="na">connect_error</span><span class="p">);</span>
   <span class="p">}</span>

   <span class="nv">$sql</span> <span class="o">=</span> <span class="s2">&quot;SELECT id, firstname, lastname FROM MyGuests&quot;</span><span class="p">;</span>
   <span class="nv">$result</span> <span class="o">=</span> <span class="nv">$conn</span><span class="o">-&gt;</span><span class="na">query</span><span class="p">(</span><span class="nv">$sql</span><span class="p">);</span>

   <span class="k">if</span> <span class="p">(</span><span class="nv">$result</span><span class="o">-&gt;</span><span class="na">num_rows</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
   <span class="c1">// output data of each row</span>
   <span class="k">while</span><span class="p">(</span><span class="nv">$row</span> <span class="o">=</span> <span class="nv">$result</span><span class="o">-&gt;</span><span class="na">fetch_assoc</span><span class="p">())</span> <span class="p">{</span>
        <span class="k">echo</span> <span class="s2">&quot;id: &quot;</span> <span class="o">.</span> <span class="nv">$row</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">]</span><span class="o">.</span> <span class="s2">&quot; - Name: &quot;</span> <span class="o">.</span> <span class="nv">$row</span><span class="p">[</span><span class="s2">&quot;firstname&quot;</span><span class="p">]</span><span class="o">.</span> <span class="s2">&quot; &quot;</span> <span class="o">.</span> <span class="nv">$row</span><span class="p">[</span><span class="s2">&quot;lastname&quot;</span><span class="p">]</span><span class="o">.</span> <span class="s2">&quot;&lt;br&gt;&quot;</span><span class="p">;</span>
   <span class="p">}</span>
   <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
      <span class="k">echo</span> <span class="s2">&quot;0 results&quot;</span><span class="p">;</span>
   <span class="p">}</span>
   <span class="nv">$conn</span><span class="o">-&gt;</span><span class="na">close</span><span class="p">();</span>
   <span class="cp">?&gt;</span><span class="x"></span>
</pre></div>
</div>
<p>Exemple (MySQLi Procedural)</p>
<div class="highlight-php notranslate"><div class="highlight"><pre><span></span><span class="cp">&lt;?php</span>
   <span class="nv">$servername</span> <span class="o">=</span> <span class="s2">&quot;localhost&quot;</span><span class="p">;</span>
   <span class="nv">$username</span> <span class="o">=</span> <span class="s2">&quot;username&quot;</span><span class="p">;</span>
   <span class="nv">$password</span> <span class="o">=</span> <span class="s2">&quot;password&quot;</span><span class="p">;</span>
   <span class="nv">$dbname</span> <span class="o">=</span> <span class="s2">&quot;myDB&quot;</span><span class="p">;</span>

   <span class="c1">// Create connection</span>
   <span class="nv">$conn</span> <span class="o">=</span> <span class="nb">mysqli_connect</span><span class="p">(</span><span class="nv">$servername</span><span class="p">,</span> <span class="nv">$username</span><span class="p">,</span> <span class="nv">$password</span><span class="p">,</span> <span class="nv">$dbname</span><span class="p">);</span>
   <span class="c1">// Check connection</span>
   <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nv">$conn</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">die</span><span class="p">(</span><span class="s2">&quot;Connection failed: &quot;</span> <span class="o">.</span> <span class="nx">mysqli_connect_error</span><span class="p">());</span>
    <span class="p">}</span>

    <span class="nv">$sql</span> <span class="o">=</span> <span class="s2">&quot;SELECT id, firstname, lastname FROM MyGuests&quot;</span><span class="p">;</span>
    <span class="nv">$result</span> <span class="o">=</span> <span class="nx">mysqli_query</span><span class="p">(</span><span class="nv">$conn</span><span class="p">,</span> <span class="nv">$sql</span><span class="p">);</span>

    <span class="k">if</span> <span class="p">(</span><span class="nx">mysqli_num_rows</span><span class="p">(</span><span class="nv">$result</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
         <span class="c1">// output data of each row</span>
         <span class="k">while</span><span class="p">(</span><span class="nv">$row</span> <span class="o">=</span> <span class="nx">mysqli_fetch_assoc</span><span class="p">(</span><span class="nv">$result</span><span class="p">))</span> <span class="p">{</span>
             <span class="k">echo</span> <span class="s2">&quot;id: &quot;</span> <span class="o">.</span> <span class="nv">$row</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">]</span><span class="o">.</span> <span class="s2">&quot; - Name: &quot;</span> <span class="o">.</span> <span class="nv">$row</span><span class="p">[</span><span class="s2">&quot;firstname&quot;</span><span class="p">]</span><span class="o">.</span> <span class="s2">&quot; &quot;</span> <span class="o">.</span> <span class="nv">$row</span><span class="p">[</span><span class="s2">&quot;lastname&quot;</span><span class="p">]</span><span class="o">.</span> <span class="s2">&quot;&lt;br&gt;&quot;</span><span class="p">;</span>
         <span class="p">}</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
         <span class="k">echo</span> <span class="s2">&quot;0 results&quot;</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="nx">mysqli_close</span><span class="p">(</span><span class="nv">$conn</span><span class="p">);</span>
 <span class="cp">?&gt;</span><span class="x"></span>
</pre></div>
</div>
</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">WEB Dynamique</a></h1>








<h3>Navigation</h3>
<p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="html_css.html">HTML, XHTML et CSS</a></li>
<li class="toctree-l1"><a class="reference internal" href="javascript.html">JAVASCRIPT WEB APIS</a></li>
<li class="toctree-l1"><a class="reference internal" href="javascript.html#types-de-donnees-interface">Types de données interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="javascript.html#les-interfaces-et-les-objets">Les interfaces et les objets</a></li>
<li class="toctree-l1"><a class="reference internal" href="javascript.html#interface-essentielles-du-dom">Interface essentielles du DOM</a></li>
<li class="toctree-l1"><a class="reference internal" href="javascript.html#test-de-l-api-dom">Test de l’API DOM</a></li>
<li class="toctree-l1"><a class="reference internal" href="graphics.html">GRAPHIQUES</a></li>
<li class="toctree-l1"><a class="reference internal" href="audio_video.html">Audio et Vidéo</a></li>
<li class="toctree-l1"><a class="reference internal" href="accessibility.html">Accessibilité</a></li>
<li class="toctree-l1"><a class="reference internal" href="inter.html">Internationalisation</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">PHP</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#qu-est-ce-que-php">Qu’est-ce que PHP ?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#qu-est-ce-qu-un-fichier-php">Qu’est-ce qu’un fichier PHP ?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#que-peut-faire-php">Que peut faire PHP ?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#pourquoi-php">Pourquoi PHP ?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#quoi-de-neuf-en-php-7">Quoi de neuf en PHP 7</a></li>
<li class="toctree-l2"><a class="reference internal" href="#installation-de-php">Installation de PHP</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="#syntaxe-de-php">Syntaxe de PHP</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#syntaxe-php-de-base">Syntaxe PHP de base</a></li>
<li class="toctree-l2"><a class="reference internal" href="#commentaires-en-php">Commentaires en PHP</a></li>
<li class="toctree-l2"><a class="reference internal" href="#les-formulaires-en-php">Les formulaires en PHP</a></li>
<li class="toctree-l2"><a class="reference internal" href="#validation-de-formulaire-php">Validation de formulaire PHP</a></li>
<li class="toctree-l2"><a class="reference internal" href="#php-se-connecter-a-mysql">PHP: se connecter à MySQL</a></li>
<li class="toctree-l2"><a class="reference internal" href="#dois-je-utiliser-mysqli-ou-pdo">Dois-je utiliser MySQLi ou PDO ?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#exemples-mysql-dans-la-syntaxe-mysqli-et-pdo">Exemples MySQL dans la syntaxe MySQLi et PDO</a></li>
<li class="toctree-l2"><a class="reference internal" href="#creer-une-base-de-donnees-mysql-en-utilisant-mysqli-et-pdo">Créer une base de données MySQL en utilisant MySQLi et PDO</a></li>
<li class="toctree-l2"><a class="reference internal" href="#creer-une-table-mysql-en-utilisant-mysqli-et-pdo">Créer une table MySQL en utilisant MySQLi et PDO</a></li>
<li class="toctree-l2"><a class="reference internal" href="#inserer-des-donnees-dans-mysql-a-l-aide-de-mysqli-et-pdo">Insérer des données dans MySQL à l’aide de MySQLi et PDO</a></li>
<li class="toctree-l2"><a class="reference internal" href="#requetes-preparees-et-parametres-lies">Requêtes préparées et paramètres liés</a></li>
<li class="toctree-l2"><a class="reference internal" href="#selectionnez-les-donnees-d-une-base-de-donnees-mysql">Sélectionnez les données d’une base de données MySQL</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="ajax.html">PHP - Présentation AJAX</a></li>
<li class="toctree-l1"><a class="reference internal" href="ws.html">Services Web</a></li>
<li class="toctree-l1"><a class="reference internal" href="wasm.html">WebAssembly ou WASM</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="inter.html" title="Chapitre précédent">Internationalisation</a></li>
      <li>Next: <a href="ajax.html" title="Chapitre suivant">PHP - Présentation AJAX</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Recherche rapide</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2021, Emery Assogba.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 4.3.2</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/php.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>